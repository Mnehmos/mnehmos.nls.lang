{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"NLS Compiler","text":"<p>The source code is English. The compiled artifact is Python.</p> <p>NLS is a programming language where specifications are written in plain English that anyone can read\u2014managers, auditors, domain experts\u2014not just programmers. The <code>nlsc</code> compiler translates <code>.nl</code> files into executable Python with full type hints, validation, and documentation.</p>"},{"location":"#why-nls","title":"Why NLS?","text":"<ul> <li>Readable by everyone \u2014 Non-programmers can review business logic</li> <li>Auditable \u2014 Clear mapping from intent to implementation</li> <li>Testable \u2014 Specifications include test cases</li> <li>Versionable \u2014 Lock files ensure reproducibility</li> <li>Toolable \u2014 Tree-sitter grammar enables IDE support</li> </ul>"},{"location":"#quick-example","title":"Quick Example","text":"<pre><code>@module calculator\n@target python\n\n[divide]\nPURPOSE: Divide two numbers safely\nINPUTS:\n  - numerator: number\n  - divisor: number\nGUARDS:\n  - divisor must not be zero -&gt; ValueError(\"Cannot divide by zero\")\nRETURNS: numerator / divisor\n</code></pre> <p>Compiles to:</p> <pre><code>def divide(numerator: float, divisor: float) -&gt; float:\n    \"\"\"Divide two numbers safely.\"\"\"\n    if divisor == 0:\n        raise ValueError(\"Cannot divide by zero\")\n    return numerator / divisor\n</code></pre>"},{"location":"#installation","title":"Installation","text":"pippip (with tree-sitter)VS Code <pre><code>pip install nlsc\n</code></pre> <pre><code>pip install \"nlsc[treesitter]\"\n</code></pre> <p>Search \"NLS\" in Extensions, or: <pre><code>ext install mnehmos.nls-language\n</code></pre></p>"},{"location":"#project-status","title":"Project Status","text":"Component Status Parser (regex) \u2705 Complete Parser (tree-sitter) \u2705 Complete Python emitter \u2705 Complete Type generation \u2705 Complete Guard validation \u2705 Complete Dataflow analysis \u2705 Complete Test runner \u2705 Complete Property-based testing \u2705 Complete Type invariants \u2705 Complete Watch mode \u2705 Complete GitHub Action \u2705 Complete PyPI distribution \u2705 Complete VS Code extension \u2705 Complete LSP server \u2705 Complete Windows installer \u2705 Complete TypeScript target \ud83d\udd1c Planned <p>239 tests passing \u2014 Production-ready for Python target.</p>"},{"location":"#get-started","title":"Get Started","text":"<ul> <li> <p> Tutorials</p> <p>Step-by-step learning path from first module to advanced patterns</p> </li> <li> <p> Language Spec</p> <p>Complete syntax reference for all NLS constructs</p> </li> <li> <p> Examples</p> <p>Real-world examples: calculators, e-commerce, banking, auth</p> </li> <li> <p> LLM Reference</p> <p>AI-optimized documentation for training and inference</p> </li> </ul>"},{"location":"#quick-links","title":"Quick Links","text":"<ul> <li> <p> Installation</p> <p>Install nlsc with pip or VS Code</p> </li> <li> <p> CLI Reference</p> <p>All 11 commands documented</p> </li> <li> <p> Type System</p> <p>Primitives, composites, and custom types</p> </li> <li> <p> Error Reference</p> <p>Troubleshooting guide for all error types</p> </li> </ul>"},{"location":"antigravity_prompt/","title":"Antigravity Prompt: Greenfield NLS (Natural Language Source) MVP","text":"<p>Role: You are a Founding Engineer and Language Designer. Context: We are starting a new project called Natural Language Source (NLS). Reference Material: Read <code>PRD.md</code> in the current directory carefully, specifically focusing on Phase 1: Foundation and the Strategic Considerations (MVP Focus).</p>"},{"location":"antigravity_prompt/#the-mission","title":"The Mission","text":"<p>Your goal is to build the Phase 1 MVP of NLS. We are not building the VS Code extension, the compliance standard, or the legacy atomization tools yet. We are building the Compiler (<code>nlsc</code>) and defining the Language Schema.</p> <p>The Thesis: \"The conversation is the programming. The <code>.nl</code> file is the receipt. The code is the artifact.\"</p>"},{"location":"antigravity_prompt/#success-criteria-for-this-session","title":"Success Criteria for this Session","text":"<p>By the end of this session, we must have a working CLI tool (<code>nlsc</code>) that can:</p> <ol> <li>Initialize a new project (<code>nlsc init</code>).</li> <li>Read a valid <code>.nl</code> file (like the math example in Appendix B of the PRD).</li> <li>Compile it into executable Python code using a deterministic process (mock the LLM part if needed, or use an available API).</li> <li>Verify that the generated code runs.</li> </ol>"},{"location":"antigravity_prompt/#technical-stack-constraints","title":"Technical Stack &amp; Constraints","text":"<ul> <li>Language: Python (for both the compiler implementation and the target language).</li> <li>Architecture: Modular (Parser -&gt; Resolver -&gt; Emitter).</li> <li>No \"Big Bang\": detailed parsing logic (like Tree-sitter) is good if possible, but a robust regex/structured parser is acceptable for V0 to get the \"Math\" example working immediately.</li> <li>Determinism: The compiler must be capable of using a lockfile concept, even if rudimentary.</li> </ul>"},{"location":"antigravity_prompt/#step-by-step-execution-plan","title":"Step-by-Step Execution Plan","text":""},{"location":"antigravity_prompt/#step-1-schema-definition","title":"Step 1: Schema Definition","text":"<p>Define the strict structure of an ANLU (Atomic Natural Language Unit).</p> <ul> <li>Create <code>nl-schema.yaml</code> or a formal EBNF/Grammar definition.</li> <li>Must include: Identifier, Purpose, Inputs, Logic, Returns.</li> </ul>"},{"location":"antigravity_prompt/#step-2-the-cli-scaffold","title":"Step 2: The CLI Scaffold","text":"<p>Create the <code>nlsc</code> entry point.</p> <ul> <li><code>nlsc init</code>: Generates <code>nl.config.yaml</code> and folder structure.</li> <li><code>nlsc compile &lt;file.nl&gt;</code>: The core command.</li> </ul>"},{"location":"antigravity_prompt/#step-3-the-compiler-core","title":"Step 3: The Compiler Core","text":"<p>Implement the compilation pipeline:</p> <ul> <li>Parser: Read <code>.nl</code> files into an AST (list of ANLUs).</li> <li>Resolver: Check simple dependencies (if ANLU A depends on B).</li> <li>Emitter (LLM Integration):</li> <li>Since we are in a dev environment, use a prompt-template approach.</li> <li>Input: ANLU structure.</li> <li>System Prompt: \"You are the NLS Compiler. Translate this ANLU to Python.\"</li> <li>Output: Python code block.</li> <li>Constraint: If LLM tools are unavailable, implement a \"Mock LLM\" that handles the Math example deterministically via regex for demonstration.</li> </ul>"},{"location":"antigravity_prompt/#step-4-verification-the-math-example","title":"Step 4: Verification (The \"Math\" Example)","text":"<p>Create the exact <code>src/math.nl</code> file from Appendix B. Run <code>nlsc compile src/math.nl</code>. Verify <code>src/math.py</code> is generated. Run the python code to prove <code>add(2,3) == 5</code>.</p>"},{"location":"antigravity_prompt/#your-first-action","title":"Your First Action","text":"<p>Analyze <code>PRD.md</code> and propose the exact file structure you are about to build. Then, ask for approval to proceed with scaffolding.</p>"},{"location":"architecture/","title":"Architecture","text":"<p>This document describes the internal architecture of the NLS compiler.</p>"},{"location":"architecture/#pipeline-overview","title":"Pipeline Overview","text":"<pre><code>flowchart LR\n    A[\".nl file\"] --&gt; B[Parser]\n    B --&gt; C[AST]\n    C --&gt; D[Resolver]\n    D --&gt; E[Emitter]\n    E --&gt; F[\".py file\"]\n    E --&gt; G[\".nl.lock\"]</code></pre> <p>The compiler follows a classic pipeline architecture:</p> <ol> <li>Parser \u2014 Converts <code>.nl</code> text to AST</li> <li>Resolver \u2014 Validates dependencies and ordering</li> <li>Emitter \u2014 Generates Python code</li> <li>Lockfile \u2014 Records hashes for reproducibility</li> </ol>"},{"location":"architecture/#module-breakdown","title":"Module Breakdown","text":""},{"location":"architecture/#core-modules","title":"Core Modules","text":"Module Purpose Lines <code>parser.py</code> Regex-based parser ~500 <code>parser_treesitter.py</code> Tree-sitter parser ~600 <code>resolver.py</code> Dependency resolution ~100 <code>emitter.py</code> Python code generation ~400 <code>lockfile.py</code> Hash computation and storage ~200 <code>schema.py</code> AST data structures ~300"},{"location":"architecture/#cli-modules","title":"CLI Modules","text":"Module Purpose <code>cli.py</code> Command-line interface <code>graph.py</code> Visualization (Mermaid, DOT, ASCII) <code>diff.py</code> Change detection <code>watch.py</code> File watcher <code>atomize.py</code> Python \u2192 NL extraction"},{"location":"architecture/#parser-backends","title":"Parser Backends","text":""},{"location":"architecture/#regex-parser-default","title":"Regex Parser (Default)","text":"<p>The regex parser uses pattern matching to tokenize and parse <code>.nl</code> files.</p> <pre><code># Pattern examples from parser.py\nANLU_START = r\"^\\[([a-z][a-z0-9.-]*)\\]\\s*$\"\nDIRECTIVE = r\"^@(module|version|target|imports)\"\nSECTION = r\"^(PURPOSE|INPUTS|GUARDS|LOGIC|RETURNS|DEPENDS|EDGE CASES):\"\n</code></pre> <p>Pros:</p> <ul> <li>Zero dependencies</li> <li>Fast for simple files</li> <li>Easy to understand</li> </ul> <p>Cons:</p> <ul> <li>Limited error recovery</li> <li>Complex patterns for edge cases</li> </ul>"},{"location":"architecture/#tree-sitter-parser","title":"Tree-sitter Parser","text":"<p>The tree-sitter parser uses a formal grammar for parsing.</p> <pre><code># Install tree-sitter support\npip install nlsc[treesitter]\n\n# Use tree-sitter parser\nnlsc --parser treesitter compile src/auth.nl\n</code></pre> <p>Pros:</p> <ul> <li>Better error recovery</li> <li>Incremental parsing</li> <li>Foundation for LSP/IDE support</li> </ul> <p>Cons:</p> <ul> <li>Requires native dependency</li> <li>Slightly more complex setup</li> </ul>"},{"location":"architecture/#ast-schema","title":"AST Schema","text":"<p>The AST is defined in <code>schema.py</code>:</p> <pre><code>@dataclass\nclass NLFile:\n    module: ModuleDirective\n    version: str | None\n    target: str\n    imports: list[str]\n    anlus: list[ANLU]\n    types: list[TypeDef]\n    tests: list[TestSpec]\n    literals: list[LiteralBlock]\n\n@dataclass\nclass ANLU:\n    identifier: str\n    purpose: str\n    inputs: list[InputDef]\n    guards: list[Guard]\n    logic: list[LogicStep]\n    returns: str\n    depends: list[str]\n    edge_cases: list[EdgeCase]\n</code></pre>"},{"location":"architecture/#resolution","title":"Resolution","text":"<p>The resolver validates:</p> <ol> <li>Dependency existence \u2014 All <code>DEPENDS</code> references exist</li> <li>Cycle detection \u2014 No circular dependencies</li> <li>Ordering \u2014 Topological sort for code generation</li> </ol> <pre><code>result = resolve_dependencies(nl_file)\nif not result.success:\n    for error in result.errors:\n        print(f\"{error.anlu_id}: {error.message}\")\n</code></pre>"},{"location":"architecture/#code-emission","title":"Code Emission","text":"<p>The emitter transforms AST to Python:</p>"},{"location":"architecture/#anlu-function","title":"ANLU \u2192 Function","text":"<pre><code>[add]\nPURPOSE: Add two numbers\nINPUTS:\n  - a: number\n  - b: number\nRETURNS: a + b\n</code></pre> <p>Becomes:</p> <pre><code>def add(a: float, b: float) -&gt; float:\n    \"\"\"Add two numbers.\"\"\"\n    return a + b\n</code></pre>"},{"location":"architecture/#type-dataclass","title":"@type \u2192 Dataclass","text":"<pre><code>@type Point {\n  x: number\n  y: number\n}\n</code></pre> <p>Becomes:</p> <pre><code>@dataclass\nclass Point:\n    \"\"\"Point type.\"\"\"\n    x: float\n    y: float\n</code></pre>"},{"location":"architecture/#guards-validation","title":"GUARDS \u2192 Validation","text":"<pre><code>GUARDS:\n  - divisor must not be zero -&gt; ValueError(\"Cannot divide by zero\")\n</code></pre> <p>Becomes:</p> <pre><code>if divisor == 0:\n    raise ValueError(\"Cannot divide by zero\")\n</code></pre>"},{"location":"architecture/#lockfile","title":"Lockfile","text":"<p>Lockfiles ensure reproducible builds:</p> <pre><code># example.nl.lock\nversion: \"1.0\"\nsource_hash: \"a1b2c3...\"\ntarget_hash: \"d4e5f6...\"\nanlus:\n  add:\n    hash: \"abc123...\"\n    inputs: [\"a: number\", \"b: number\"]\n    returns: \"a + b\"\n  multiply:\n    hash: \"def456...\"\n    inputs: [\"a: number\", \"b: number\"]\n    returns: \"a \u00d7 b\"\nllm_backend: \"mock\"\ncompiled_at: \"2024-01-15T10:30:00Z\"\n</code></pre> <p>The lockfile enables:</p> <ul> <li>Change detection (<code>nlsc diff</code>)</li> <li>Reproducible builds</li> <li>Audit trails</li> </ul>"},{"location":"architecture/#extension-points","title":"Extension Points","text":""},{"location":"architecture/#adding-a-new-target","title":"Adding a New Target","text":"<ol> <li>Create <code>emitter_&lt;target&gt;.py</code></li> <li>Implement <code>emit_&lt;target&gt;(nl_file: NLFile) -&gt; str</code></li> <li>Register in <code>cli.py</code> compile command</li> </ol>"},{"location":"architecture/#adding-a-new-parser-feature","title":"Adding a New Parser Feature","text":"<ol> <li>Update grammar in <code>tree-sitter-nl/grammar.js</code></li> <li>Regenerate with <code>npx tree-sitter generate</code></li> <li>Update <code>parser_treesitter.py</code> to handle new nodes</li> <li>Update <code>parser.py</code> with matching regex patterns</li> </ol>"},{"location":"architecture/#adding-a-new-cli-command","title":"Adding a New CLI Command","text":"<ol> <li>Create <code>cmd_&lt;name&gt;</code> function in <code>cli.py</code></li> <li>Add subparser in <code>main()</code></li> <li>Add case in command dispatch</li> </ol>"},{"location":"architecture/#testing","title":"Testing","text":"<pre><code># Run all tests\npytest tests/ -v\n\n# Run specific test module\npytest tests/test_emitter.py -v\n\n# Run tree-sitter grammar tests\ncd tree-sitter-nl &amp;&amp; npx tree-sitter test\n</code></pre> <p>Test coverage includes:</p> <ul> <li>12 regex parser tests</li> <li>25 tree-sitter grammar tests</li> <li>9 parser parity tests</li> <li>15+ emitter tests</li> <li>Dataflow, guards, types, roundtrip tests</li> </ul> <p>Total: 160 tests passing</p>"},{"location":"cli-reference/","title":"CLI Reference","text":"<p>The <code>nlsc</code> command-line interface provides 8 commands for working with NLS files.</p>"},{"location":"cli-reference/#global-options","title":"Global Options","text":"<pre><code>nlsc [--parser {regex,treesitter}] [--version] [--help] &lt;command&gt;\n</code></pre> Option Description <code>--parser</code> Parser backend: <code>regex</code> (default) or <code>treesitter</code> <code>--version</code> Show version number <code>--help</code> Show help message"},{"location":"cli-reference/#commands","title":"Commands","text":""},{"location":"cli-reference/#nlsc-init","title":"<code>nlsc init</code>","text":"<p>Initialize a new NLS project with standard folder structure.</p> <pre><code>nlsc init [path]\n</code></pre> Argument Description <code>path</code> Project directory (default: current directory) <p>Example:</p> <pre><code>nlsc init my-project\n</code></pre> <p>Creates:</p> <pre><code>my-project/\n\u251c\u2500\u2500 nl.config.yaml    # Project configuration\n\u251c\u2500\u2500 src/              # Source .nl files\n\u2502   \u2514\u2500\u2500 __init__.py\n\u2514\u2500\u2500 tests/            # Generated tests\n    \u2514\u2500\u2500 __init__.py\n</code></pre>"},{"location":"cli-reference/#nlsc-compile","title":"<code>nlsc compile</code>","text":"<p>Compile a <code>.nl</code> file to the target language (currently Python).</p> <pre><code>nlsc compile &lt;file&gt; [-t TARGET] [-o OUTPUT]\n</code></pre> Option Description <code>file</code> Path to <code>.nl</code> file <code>-t, --target</code> Target language (default: <code>python</code>) <code>-o, --output</code> Output file path <p>Examples:</p> <pre><code># Basic compile\nnlsc compile src/auth.nl\n\n# Compile with tree-sitter parser\nnlsc --parser treesitter compile src/auth.nl\n\n# Specify output file\nnlsc compile src/auth.nl -o lib/auth.py\n</code></pre> <p>Generated files:</p> <ul> <li><code>&lt;name&gt;.py</code> \u2014 Python module</li> <li><code>test_&lt;name&gt;.py</code> \u2014 Test file (if <code>@test</code> blocks present)</li> <li><code>&lt;name&gt;.nl.lock</code> \u2014 Lockfile for reproducibility</li> </ul>"},{"location":"cli-reference/#nlsc-verify","title":"<code>nlsc verify</code>","text":"<p>Validate a <code>.nl</code> file without generating code. Checks syntax and dependencies.</p> <pre><code>nlsc verify &lt;file&gt;\n</code></pre> <p>Example:</p> <pre><code>nlsc verify src/order.nl\n</code></pre> <p>Output:</p> <pre><code>Verifying src/order.nl (parser: regex)...\n  \u2713 Syntax valid: 5 ANLUs\n  \u2713 Dependencies valid\n  \u2713 All ANLUs valid\n\nVerification passed!\n</code></pre>"},{"location":"cli-reference/#nlsc-test","title":"<code>nlsc test</code>","text":"<p>Run <code>@test</code> specifications from a <code>.nl</code> file.</p> <pre><code>nlsc test &lt;file&gt; [-v]\n</code></pre> Option Description <code>file</code> Path to <code>.nl</code> file <code>-v, --verbose</code> Verbose output <p>Example:</p> <pre><code>nlsc test src/math.nl -v\n</code></pre> <p>The command:</p> <ol> <li>Compiles the <code>.nl</code> file to a temp directory</li> <li>Generates test code from <code>@test</code> blocks</li> <li>Runs pytest on the generated tests</li> </ol>"},{"location":"cli-reference/#nlsc-graph","title":"<code>nlsc graph</code>","text":"<p>Generate dependency and dataflow visualizations.</p> <pre><code>nlsc graph &lt;file&gt; [-f FORMAT] [-a ANLU] [--dataflow] [-o OUTPUT]\n</code></pre> Option Description <code>file</code> Path to <code>.nl</code> file <code>-f, --format</code> Output format: <code>mermaid</code> (default), <code>dot</code>, <code>ascii</code> <code>-a, --anlu</code> Specific ANLU for dataflow visualization <code>--dataflow</code> Show dataflow instead of FSM states <code>-o, --output</code> Output file path (default: stdout) <p>Examples:</p> <pre><code># Module dependency graph\nnlsc graph src/order.nl --format mermaid\n\n# Dataflow for specific ANLU\nnlsc graph src/order.nl --anlu process-order --dataflow\n\n# Export as DOT for Graphviz\nnlsc graph src/order.nl --format dot -o deps.dot\n</code></pre>"},{"location":"cli-reference/#nlsc-diff","title":"<code>nlsc diff</code>","text":"<p>Show changes since last compile by comparing against the lockfile.</p> <pre><code>nlsc diff &lt;file&gt; [--stat] [--full]\n</code></pre> Option Description <code>file</code> Path to <code>.nl</code> file <code>--stat</code> Show summary only <code>--full</code> Show full unified diff <p>Examples:</p> <pre><code># Show changed ANLUs\nnlsc diff src/api.nl\n\n# Summary statistics\nnlsc diff src/api.nl --stat\n\n# Full unified diff\nnlsc diff src/api.nl --full\n</code></pre>"},{"location":"cli-reference/#nlsc-watch","title":"<code>nlsc watch</code>","text":"<p>Watch a directory for <code>.nl</code> file changes and automatically recompile.</p> <pre><code>nlsc watch [dir] [-q] [-t] [-d DEBOUNCE]\n</code></pre> Option Description <code>dir</code> Directory to watch (default: current) <code>-q, --quiet</code> Suppress success messages <code>-t, --test</code> Run tests after successful compile <code>-d, --debounce</code> Debounce interval in ms (default: 100) <p>Examples:</p> <pre><code># Watch current directory\nnlsc watch\n\n# Watch with tests\nnlsc watch src/ --test\n\n# Quiet mode with custom debounce\nnlsc watch src/ -q -d 500\n</code></pre> <p>Press <code>Ctrl+C</code> to stop watching.</p>"},{"location":"cli-reference/#nlsc-atomize","title":"<code>nlsc atomize</code>","text":"<p>Extract ANLUs from existing Python source code (reverse compilation).</p> <pre><code>nlsc atomize &lt;file&gt; [-o OUTPUT] [-m MODULE]\n</code></pre> Option Description <code>file</code> Path to Python file <code>-o, --output</code> Output <code>.nl</code> file path <code>-m, --module</code> Module name for generated <code>.nl</code> <p>Example:</p> <pre><code>nlsc atomize legacy/utils.py -o src/utils.nl -m utils\n</code></pre> <p>This extracts functions from Python and generates corresponding ANLU blocks.</p>"},{"location":"cli-reference/#exit-codes","title":"Exit Codes","text":"Code Meaning 0 Success 1 Error (parse error, validation failure, etc.)"},{"location":"cli-reference/#environment-variables","title":"Environment Variables","text":"Variable Description <code>NLSC_PARSER</code> Default parser backend (<code>regex</code> or <code>treesitter</code>)"},{"location":"cli-reference/#configuration","title":"Configuration","text":"<p>Project settings are stored in <code>nl.config.yaml</code>:</p> <pre><code>project:\n  name: my-project\n  version: 0.1.0\n\ncompiler:\n  default_target: python\n  llm_backend: mock\n  cache_strategy: aggressive\n\ntargets:\n  python:\n    version: \"&gt;=3.11\"\n    style: black\n    type_hints: strict\n\nvalidation:\n  require_purpose: true\n  require_guards: false\n  max_anlu_complexity: 10\n</code></pre>"},{"location":"core-semantics/","title":"Core NLS Semantics","text":"<p>This document defines the target-neutral semantic core of NLS. All target emitters (Python, TypeScript, etc.) must preserve these semantics while adapting to target-specific idioms.</p>"},{"location":"core-semantics/#overview","title":"Overview","text":"<p>NLS semantics are divided into:</p> <ol> <li>Core Semantics \u2014 Must behave identically across all targets</li> <li>Target Semantics \u2014 May differ in representation but must preserve behavior</li> <li>Implementation Details \u2014 Left to target discretion</li> </ol>"},{"location":"core-semantics/#expressions","title":"Expressions","text":""},{"location":"core-semantics/#literals","title":"Literals","text":"Literal Type NLS Syntax Semantics Number <code>42</code>, <code>3.14</code>, <code>-1</code> IEEE 754 double precision floating point String <code>\"hello\"</code>, <code>'world'</code> UTF-8 encoded text Boolean <code>true</code>, <code>false</code> Two-valued logic None <code>none</code>, <code>null</code> Absence of value List <code>[1, 2, 3]</code> Ordered, mutable sequence Dict <code>{key: value}</code> Key-value map (literal syntax uses string keys; type <code>dict of K to V</code> allows any hashable key) <p>Invariants: - Numbers: All targets use IEEE 754 doubles (precision may vary for integers) - Strings: UTF-8 encoding; immutable in semantics - Lists: 0-indexed; mutable; may be heterogeneous if element type is <code>any</code></p>"},{"location":"core-semantics/#operators","title":"Operators","text":""},{"location":"core-semantics/#arithmetic","title":"Arithmetic","text":"Operator Meaning Operand Types Result Type <code>+</code> Addition number, number number <code>-</code> Subtraction number, number number <code>*</code>, <code>\u00d7</code> Multiplication number, number number <code>/</code>, <code>\u00f7</code> Division number, number number <code>%</code> Modulo number, number number <p>Invariants: - Division by zero raises <code>DivisionError</code> - Integer division uses <code>//</code> or explicit <code>floor(a / b)</code></p>"},{"location":"core-semantics/#comparison","title":"Comparison","text":"Operator Meaning <code>==</code> Structural equality <code>!=</code>, <code>\u2260</code> Structural inequality <code>&lt;</code>, <code>&gt;</code> Ordering <code>&lt;=</code>, <code>&gt;=</code>, <code>\u2264</code>, <code>\u2265</code> Inclusive ordering <p>Invariants: - Equality is structural, not reference-based - Ordering is defined for numbers and strings; undefined for other types</p>"},{"location":"core-semantics/#logical","title":"Logical","text":"Operator Meaning <code>and</code>, <code>&amp;&amp;</code> Logical AND (short-circuit) <code>or</code>, <code>\\|\\|</code> Logical OR (short-circuit) <code>not</code>, <code>!</code> Logical NOT <p>Invariants: - Short-circuit evaluation is required - Truthiness: <code>false</code>, <code>none</code>, <code>0</code>, <code>\"\"</code>, <code>[]</code> are falsy; all else truthy</p>"},{"location":"core-semantics/#function-calls","title":"Function Calls","text":"<pre><code>function_name(arg1, arg2, ...)\n</code></pre> <p>Semantics: - Arguments evaluated left-to-right - Passed by value (for primitives) or by reference (for objects) - Return value is the expression result of the function body</p>"},{"location":"core-semantics/#field-access","title":"Field Access","text":"<pre><code>object.field\n</code></pre> <p>Semantics: - Accesses named field on object - Raises <code>AttributeError</code> if field doesn't exist - For types with <code>@invariant</code>, field access on valid objects always succeeds</p>"},{"location":"core-semantics/#statements","title":"Statements","text":""},{"location":"core-semantics/#let-bindings","title":"Let-Bindings","text":"<pre><code>1. Calculate result -&gt; result\n</code></pre> <p>Semantics: - Binds a value to a name - Bindings are immutable by default in NLS semantics - Scope is local to the containing function</p> <p>Target Mapping: - Python: <code>result = &lt;expression&gt;</code> (relies on convention, not enforcement) - TypeScript: <code>const result = &lt;expression&gt;</code> (enforced)</p>"},{"location":"core-semantics/#conditionals","title":"Conditionals","text":"<p>NLS uses guard conditions for early exit:</p> <pre><code>GUARDS:\n  - amount &gt; 0 -&gt; ValueError(\"Amount must be positive\")\n</code></pre> <p>For inline conditionals in LOGIC:</p> <pre><code>3. IF discount_rate &gt; 0 THEN apply discount -&gt; final\n</code></pre> <p>Semantics: - Guards are evaluated top-to-bottom - First failing guard raises its error - IF/THEN/ELSE is an expression, not statement (always has a value)</p>"},{"location":"core-semantics/#early-return","title":"Early Return","text":"<pre><code>EDGE CASES:\n  - Empty list -&gt; return none\n</code></pre> <p>Semantics: - Immediately exits function with given value - Guards that fail cause early exit with error</p>"},{"location":"core-semantics/#type-system","title":"Type System","text":""},{"location":"core-semantics/#primitives","title":"Primitives","text":"NLS Type Semantic Meaning Python TypeScript <code>number</code> IEEE 754 double <code>float</code> <code>number</code> <code>string</code> UTF-8 text <code>str</code> <code>string</code> <code>boolean</code> true/false <code>bool</code> <code>boolean</code> <code>none</code> Null value <code>None</code> <code>null</code> <code>void</code> No return <code>None</code> <code>void</code> <code>any</code> Dynamic typing <code>Any</code> <code>any</code>"},{"location":"core-semantics/#compound-types","title":"Compound Types","text":"NLS Type Meaning Python TypeScript <code>list of T</code> Ordered sequence <code>list[T]</code> <code>T[]</code> <code>dict of K to V</code> Key-value map <code>dict[K, V]</code> <code>Record&lt;K, V&gt;</code> <code>T?</code>, <code>optional T</code> Nullable <code>Optional[T]</code> <code>T \\| null</code> <code>T \\| U</code> Union <code>T \\| U</code> <code>T \\| U</code>"},{"location":"core-semantics/#user-defined-types","title":"User-Defined Types","text":"<pre><code>@type Order {\n  id: string, required\n  items: list of OrderItem\n  total: number\n}\n</code></pre> <p>Semantics: - Creates a record type with named fields - Fields have types and optional constraints - <code>required</code> fields must be provided at construction - Omitting <code>required</code> allows field to be optional</p> <p>Invariants: - Type fields are accessed by name - Field order is preserved (important for some serialization) - Types are structural, not nominal (duck typing)</p>"},{"location":"core-semantics/#type-aliases","title":"Type Aliases","text":"<pre><code>@type UserId = string\n@type OrderList = list of Order\n</code></pre> <p>Semantics: - Creates an alias; semantically equivalent to underlying type - May be treated as distinct by some targets (for documentation)</p>"},{"location":"core-semantics/#error-model","title":"Error Model","text":"<p>NLS uses typed errors raised through guards.</p>"},{"location":"core-semantics/#guard-errors","title":"Guard Errors","text":"<pre><code>GUARDS:\n  - token must not be empty -&gt; AuthError(MISSING, \"Token required\")\n</code></pre> <p>Components: 1. Error Type: <code>AuthError</code>, <code>ValueError</code>, <code>ValidationError</code> 2. Error Code (optional): <code>MISSING</code>, <code>INVALID_FORMAT</code> 3. Message: Human-readable description</p> <p>Semantics: - Guards fail fast (first violation wins) - Error types map to target exception/error classes - Standard errors: <code>ValueError</code>, <code>TypeError</code>, <code>RuntimeError</code></p>"},{"location":"core-semantics/#error-propagation","title":"Error Propagation","text":"<p>Design Decision: NLS uses exceptions, not Result types.</p> <p>Rationale: - Matches Python's natural error model - Keeps ANLU specifications focused on happy path - Guards explicitly document expected failures</p> <p>Invariants: - Errors propagate up call stack until caught - Uncaught errors terminate execution - All guard errors are documented in specification</p>"},{"location":"core-semantics/#semantic-invariants","title":"Semantic Invariants","text":"<p>These MUST be preserved by all target emitters:</p>"},{"location":"core-semantics/#1-guard-ordering","title":"1. Guard Ordering","text":"<p>Guards are evaluated in specification order. This is observable when guards have side effects (e.g., logging).</p>"},{"location":"core-semantics/#2-logic-step-dataflow","title":"2. Logic Step Dataflow","text":"<p>Variables assigned in earlier LOGIC steps are available in later steps. Emitters must preserve this dependency order.</p>"},{"location":"core-semantics/#3-type-constraints","title":"3. Type Constraints","text":"<p>Field constraints (<code>required</code>, <code>min:</code>, <code>max:</code>) are enforced at construction time. Objects with invariants are always valid after construction.</p>"},{"location":"core-semantics/#4-test-semantics","title":"4. Test Semantics","text":"<p><code>@test</code> blocks execute in isolation. Each test case is independent\u2014no shared state.</p>"},{"location":"core-semantics/#5-property-semantics","title":"5. Property Semantics","text":"<p><code>@property</code> assertions hold for all valid inputs. Emitters should generate property-based tests (using Hypothesis, fast-check, etc.).</p>"},{"location":"core-semantics/#target-specific-allowances","title":"Target-Specific Allowances","text":"<p>These MAY differ between targets:</p>"},{"location":"core-semantics/#performance-characteristics","title":"Performance Characteristics","text":"<ul> <li>List indexing complexity (O(1) vs O(n))</li> <li>String concatenation strategy</li> <li>Memory layout of types</li> </ul>"},{"location":"core-semantics/#runtime-representation","title":"Runtime Representation","text":"<ul> <li>How types are encoded at runtime</li> <li>Debug string formats</li> <li>Stack trace formatting</li> </ul>"},{"location":"core-semantics/#idioms","title":"Idioms","text":"<ul> <li>Naming conventions in generated code (snake_case vs camelCase)</li> <li>Import style (relative vs absolute)</li> <li>Documentation format (docstrings vs JSDoc)</li> </ul>"},{"location":"core-semantics/#python-target-mapping","title":"Python Target Mapping","text":"<p>This section documents the Core NLS \u2192 Python mapping.</p>"},{"location":"core-semantics/#types","title":"Types","text":"NLS Python <code>number</code> <code>float</code> (or <code>int</code> for known integers) <code>string</code> <code>str</code> <code>boolean</code> <code>bool</code> <code>none</code> <code>None</code> <code>list of T</code> <code>list[T]</code> <code>dict of K to V</code> <code>dict[K, V]</code> <code>T?</code> <code>Optional[T]</code> <code>@type X</code> <code>@dataclass class X</code>"},{"location":"core-semantics/#errors","title":"Errors","text":"NLS Error Python Exception <code>ValueError</code> <code>ValueError</code> <code>TypeError</code> <code>TypeError</code> <code>RuntimeError</code> <code>RuntimeError</code> <code>DivisionError</code> <code>ZeroDivisionError</code> Custom <code>XError</code> <code>class XError(Exception)</code>"},{"location":"core-semantics/#guards","title":"Guards","text":"<pre><code>GUARDS:\n  - amount &gt; 0 -&gt; ValueError(\"Message\")\n</code></pre> <p>Becomes:</p> <pre><code>if not (amount &gt; 0):\n    raise ValueError(\"Message\")\n</code></pre>"},{"location":"core-semantics/#logic-steps","title":"Logic Steps","text":"<pre><code>LOGIC:\n  1. Calculate tax -&gt; tax\n  2. Add fee -&gt; total\n</code></pre> <p>Becomes:</p> <pre><code>tax = calculate_tax(...)  # Step 1\ntotal = tax + fee         # Step 2\n</code></pre>"},{"location":"core-semantics/#future-considerations","title":"Future Considerations","text":""},{"location":"core-semantics/#typescript-target-planned","title":"TypeScript Target (Planned)","text":"<p>Will require: - <code>number</code> \u2192 <code>number</code> (same IEEE 754) - <code>@type</code> \u2192 <code>interface</code> or <code>type</code> - Guards \u2192 thrown <code>Error</code> objects - Properties \u2192 <code>fast-check</code> tests</p>"},{"location":"core-semantics/#result-type-option","title":"Result Type Option","text":"<p>Future version may support:</p> <pre><code>@config error_model = \"result\"\n\n[divide]\nRETURNS: Result&lt;number, DivisionError&gt;\n</code></pre> <p>This would generate <code>Either</code>/<code>Result</code> types instead of exceptions.</p>"},{"location":"core-semantics/#references","title":"References","text":"<ul> <li>Language Specification \u2014 Surface syntax</li> <li>nl-grammar.ebnf \u2014 Formal grammar</li> <li>Issue #88 \u2014 Core NLS Semantics tracking issue</li> </ul>"},{"location":"error-reference/","title":"Error Reference","text":"<p>Complete guide to NLS errors, their causes, and how to fix them.</p>"},{"location":"error-reference/#parse-errors","title":"Parse Errors","text":"<p>Parse errors occur when the <code>.nl</code> file has invalid syntax.</p>"},{"location":"error-reference/#missing-module-directive","title":"Missing Module Directive","text":"<pre><code>ParseError: Missing @module directive\n</code></pre> <p>Cause: Every <code>.nl</code> file must start with <code>@module</code>.</p> <p>Fix: <pre><code>@module my_module    # Add this at the top\n@target python\n</code></pre></p>"},{"location":"error-reference/#missing-target-directive","title":"Missing Target Directive","text":"<pre><code>ParseError: Missing @target directive\n</code></pre> <p>Cause: No compilation target specified.</p> <p>Fix: <pre><code>@module my_module\n@target python       # Add this after @module\n</code></pre></p>"},{"location":"error-reference/#invalid-module-name","title":"Invalid Module Name","text":"<pre><code>ParseError: Invalid module name: 'My-Module'\n</code></pre> <p>Cause: Module names must be lowercase snake_case.</p> <p>Valid names: <pre><code>@module calculator\n@module user_auth\n@module order_processing\n</code></pre></p> <p>Invalid names: <pre><code>@module My-Module     # No hyphens or capitals\n@module 123module     # Cannot start with number\n@module module name   # No spaces\n</code></pre></p>"},{"location":"error-reference/#invalid-anlu-identifier","title":"Invalid ANLU Identifier","text":"<pre><code>ParseError: Invalid ANLU identifier: 'CalculateTax'\n</code></pre> <p>Cause: ANLU names must be kebab-case (lowercase with hyphens).</p> <p>Valid identifiers: <pre><code>[calculate-tax]\n[is-valid]\n[get-user-by-id]\n</code></pre></p> <p>Invalid identifiers: <pre><code>[CalculateTax]        # No PascalCase\n[calculate_tax]       # No underscores\n[123-function]        # Cannot start with number\n</code></pre></p>"},{"location":"error-reference/#missing-purpose","title":"Missing PURPOSE","text":"<pre><code>ParseError: ANLU 'calculate-tax' missing required PURPOSE section\n</code></pre> <p>Cause: Every ANLU must have a PURPOSE.</p> <p>Fix: <pre><code>[calculate-tax]\nPURPOSE: Calculate tax amount from income and rate\nINPUTS:\n  - income: number\n  - rate: number\nRETURNS: income * rate\n</code></pre></p>"},{"location":"error-reference/#missing-returns","title":"Missing RETURNS","text":"<pre><code>ParseError: ANLU 'validate-user' missing required RETURNS section\n</code></pre> <p>Cause: Every ANLU must have a RETURNS section.</p> <p>Fix: <pre><code>[validate-user]\nPURPOSE: Validate user credentials\nINPUTS:\n  - user: User\nRETURNS: True         # Add this\n</code></pre></p>"},{"location":"error-reference/#invalid-section-name","title":"Invalid Section Name","text":"<pre><code>ParseError: Unknown section 'OUTPUT:' in ANLU 'process-order'\n</code></pre> <p>Cause: Using an invalid section keyword.</p> <p>Valid sections: - <code>PURPOSE:</code> - <code>INPUTS:</code> - <code>GUARDS:</code> - <code>LOGIC:</code> - <code>EDGE CASES:</code> - <code>RETURNS:</code> - <code>DEPENDS:</code></p> <p>Fix: Check spelling and use exact keywords.</p>"},{"location":"error-reference/#unclosed-type-definition","title":"Unclosed Type Definition","text":"<pre><code>ParseError: Unclosed @type block starting at line 15\n</code></pre> <p>Cause: Missing closing brace for <code>@type</code>.</p> <p>Fix: <pre><code>@type User {\n  id: string\n  email: string\n}                     # Don't forget the closing brace\n</code></pre></p>"},{"location":"error-reference/#unclosed-test-block","title":"Unclosed Test Block","text":"<pre><code>ParseError: Unclosed @test block starting at line 30\n</code></pre> <p>Cause: Missing closing brace for <code>@test</code>.</p> <p>Fix: <pre><code>@test [add] {\n  add(1, 2) == 3\n  add(0, 0) == 0\n}                     # Don't forget the closing brace\n</code></pre></p>"},{"location":"error-reference/#invalid-input-syntax","title":"Invalid Input Syntax","text":"<pre><code>ParseError: Invalid input definition: 'amount number'\n</code></pre> <p>Cause: Missing colon between name and type.</p> <p>Fix: <pre><code>INPUTS:\n  - amount: number    # Include the colon\n</code></pre></p>"},{"location":"error-reference/#invalid-guard-syntax","title":"Invalid Guard Syntax","text":"<pre><code>ParseError: Invalid guard: 'amount positive'\n</code></pre> <p>Cause: Guards must follow the pattern: <code>condition -&gt; Error(\"message\")</code></p> <p>Fix: <pre><code>GUARDS:\n  - amount must be positive -&gt; ValueError(\"Amount must be positive\")\n</code></pre></p>"},{"location":"error-reference/#resolution-errors","title":"Resolution Errors","text":"<p>Resolution errors occur during dependency validation.</p>"},{"location":"error-reference/#dependency-not-found","title":"Dependency Not Found","text":"<pre><code>ResolutionError: ANLU 'process-order' depends on unknown ANLU 'validate-order'\n</code></pre> <p>Cause: The <code>DEPENDS</code> section references an ANLU that doesn't exist.</p> <p>Fix options:</p> <ol> <li> <p>Create the missing ANLU: <pre><code>[validate-order]\nPURPOSE: Validate order data\nINPUTS:\n  - order: Order\nRETURNS: True\n</code></pre></p> </li> <li> <p>Fix the dependency name: <pre><code>DEPENDS: [validate-input]    # Use correct name\n</code></pre></p> </li> <li> <p>Remove the dependency: <pre><code>DEPENDS: none\n</code></pre></p> </li> </ol>"},{"location":"error-reference/#circular-dependency","title":"Circular Dependency","text":"<pre><code>ResolutionError: Circular dependency detected:\n  process-order -&gt; validate-items -&gt; check-inventory -&gt; process-order\n</code></pre> <p>Cause: ANLUs depend on each other in a cycle.</p> <p>Fix: Refactor to break the cycle:</p> <pre><code># Before (circular):\n[a]\nDEPENDS: [b]\n\n[b]\nDEPENDS: [a]\n\n# After (no cycle):\n[common]\nDEPENDS: none\n\n[a]\nDEPENDS: [common]\n\n[b]\nDEPENDS: [common]\n</code></pre>"},{"location":"error-reference/#self-dependency","title":"Self Dependency","text":"<pre><code>ResolutionError: ANLU 'recursive-func' cannot depend on itself\n</code></pre> <p>Cause: An ANLU lists itself in DEPENDS.</p> <p>Fix: Remove self-reference from DEPENDS. For recursive functions, implement in a <code>@literal</code> block.</p>"},{"location":"error-reference/#emission-errors","title":"Emission Errors","text":"<p>Emission errors occur during code generation.</p>"},{"location":"error-reference/#invalid-return-expression","title":"Invalid Return Expression","text":"<pre><code>EmissionWarning: Return expression 'the calculated total' is descriptive,\ngenerating NotImplementedError stub\n</code></pre> <p>Cause: RETURNS contains natural language instead of code.</p> <p>Valid returns: <pre><code>RETURNS: a + b\nRETURNS: result\nRETURNS: Order(id=new_id, items=items)\n</code></pre></p> <p>Invalid returns (generate stubs): <pre><code>RETURNS: the calculated total\nRETURNS: user with highest score\nRETURNS: filtered list of items\n</code></pre></p> <p>Fix: Use concrete expressions or implement in <code>@literal</code> block.</p>"},{"location":"error-reference/#unknown-type","title":"Unknown Type","text":"<pre><code>EmissionWarning: Unknown type 'UserData', using 'Any'\n</code></pre> <p>Cause: Using a type that isn't defined.</p> <p>Fix: Define the type: <pre><code>@type UserData {\n  id: string\n  name: string\n}\n</code></pre></p>"},{"location":"error-reference/#invalid-constraint-value","title":"Invalid Constraint Value","text":"<pre><code>EmissionWarning: Invalid constraint 'min: abc', ignoring\n</code></pre> <p>Cause: Non-numeric value for numeric constraint.</p> <p>Fix: <pre><code>@type Product {\n  price: number, min: 0        # Use number, not string\n  stock: number, max: 10000    # Use number, not string\n}\n</code></pre></p>"},{"location":"error-reference/#runtime-errors","title":"Runtime Errors","text":"<p>These errors occur when running generated code.</p>"},{"location":"error-reference/#guard-violation","title":"Guard Violation","text":"<pre><code>ValueError: Amount must be positive\n</code></pre> <p>Cause: Guard condition failed.</p> <p>Example ANLU: <pre><code>[deposit]\nGUARDS:\n  - amount must be positive -&gt; ValueError(\"Amount must be positive\")\n</code></pre></p> <p>Fix in calling code: <pre><code># Wrong\ndeposit(account, -50)\n\n# Right\nif amount &gt; 0:\n    deposit(account, amount)\nelse:\n    handle_invalid_amount()\n</code></pre></p>"},{"location":"error-reference/#invariant-violation","title":"Invariant Violation","text":"<pre><code>ValueError: Invariant violated: balance &gt;= 0\n</code></pre> <p>Cause: Tried to create object that violates invariant.</p> <p>Example: <pre><code>@invariant Account {\n  balance &gt;= 0\n}\n</code></pre></p> <pre><code># This raises ValueError\naccount = Account(id=\"1\", owner=\"Alice\", balance=-100)\n</code></pre> <p>Fix: Validate data before creating objects.</p>"},{"location":"error-reference/#notimplementederror","title":"NotImplementedError","text":"<pre><code>NotImplementedError: TODO: Implement 'the optimal result based on criteria'\n</code></pre> <p>Cause: RETURNS contained descriptive text that couldn't be compiled.</p> <p>Fix options:</p> <ol> <li> <p>Replace with concrete expression: <pre><code>RETURNS: max(scores)\n</code></pre></p> </li> <li> <p>Implement in literal block: <pre><code>@literal python {\ndef find_optimal(items, criteria):\n    # Your implementation here\n    return best_item\n}\n</code></pre></p> </li> </ol>"},{"location":"error-reference/#lockfile-errors","title":"Lockfile Errors","text":""},{"location":"error-reference/#lockfile-out-of-date","title":"Lockfile Out of Date","text":"<pre><code>LockfileError: ANLU 'calculate-tax' has changed since lock\n</code></pre> <p>Cause: Source file changed without recompiling.</p> <p>Fix: <pre><code>nlsc compile src/module.nl\n# or\nnlsc lock:update src/module.nl\n</code></pre></p>"},{"location":"error-reference/#missing-lockfile","title":"Missing Lockfile","text":"<pre><code>LockfileWarning: No lockfile found for src/module.nl\n</code></pre> <p>Cause: First compilation, or lockfile was deleted.</p> <p>Fix: Compile to generate lockfile: <pre><code>nlsc compile src/module.nl\n</code></pre></p>"},{"location":"error-reference/#cli-errors","title":"CLI Errors","text":""},{"location":"error-reference/#file-not-found","title":"File Not Found","text":"<pre><code>Error: File not found: src/missing.nl\n</code></pre> <p>Cause: Specified file doesn't exist.</p> <p>Fix: Check the path and filename.</p>"},{"location":"error-reference/#invalid-parser","title":"Invalid Parser","text":"<pre><code>Error: Tree-sitter parser not available\nInstall with: pip install nlsc[treesitter]\n</code></pre> <p>Cause: Requested tree-sitter parser without installing it.</p> <p>Fix: <pre><code>pip install \"nlsc[treesitter]\"\n</code></pre></p>"},{"location":"error-reference/#watch-directory-error","title":"Watch Directory Error","text":"<pre><code>Error: Not a directory: src/file.nl\n</code></pre> <p>Cause: <code>nlsc watch</code> requires a directory, not a file.</p> <p>Fix: <pre><code>nlsc watch src/        # Directory, not file\n</code></pre></p>"},{"location":"error-reference/#error-recovery-tips","title":"Error Recovery Tips","text":""},{"location":"error-reference/#1-check-line-numbers","title":"1. Check Line Numbers","text":"<p>Error messages include line numbers: <pre><code>ParseError at line 25: Invalid input definition\n</code></pre></p> <p>Go to that line to find the issue.</p>"},{"location":"error-reference/#2-use-verify-first","title":"2. Use Verify First","text":"<pre><code>nlsc verify src/module.nl\n</code></pre> <p>This checks syntax without generating code, making it faster to iterate.</p>"},{"location":"error-reference/#3-use-verbose-mode","title":"3. Use Verbose Mode","text":"<pre><code>nlsc test src/module.nl -v\n</code></pre> <p>Verbose mode shows more details about failures.</p>"},{"location":"error-reference/#4-check-generated-code","title":"4. Check Generated Code","text":"<p>If runtime errors occur, examine the generated <code>.py</code> file: <pre><code>cat src/module.py\n</code></pre></p>"},{"location":"error-reference/#5-compare-with-examples","title":"5. Compare with Examples","text":"<p>Check the Examples for correct syntax.</p>"},{"location":"error-reference/#getting-help","title":"Getting Help","text":"<p>If you encounter an error not listed here:</p> <ol> <li>Check GitHub Issues</li> <li>Search for similar errors</li> <li>Open a new issue with:</li> <li>The full error message</li> <li>The <code>.nl</code> file content (or minimal reproduction)</li> <li>NLS version (<code>nlsc --version</code>)</li> <li>Python version</li> </ol>"},{"location":"error-reference/#related-documentation","title":"Related Documentation","text":"<ul> <li>Language Specification \u2014 Correct syntax</li> <li>CLI Reference \u2014 Command options</li> <li>LLM Reference \u2014 Complete syntax patterns</li> </ul>"},{"location":"examples/","title":"Examples Gallery","text":"<p>Complete, working NLS examples demonstrating various features and patterns.</p>"},{"location":"examples/#basic-examples","title":"Basic Examples","text":""},{"location":"examples/#calculator","title":"Calculator","text":"<p>A simple arithmetic calculator demonstrating basic ANLUs, guards, and tests.</p> <pre><code>@module calculator\n@version 1.0.0\n@target python\n\n[add]\nPURPOSE: Add two numbers together\nINPUTS:\n  - a: number\n  - b: number\nRETURNS: a + b\n\n[subtract]\nPURPOSE: Subtract second number from first\nINPUTS:\n  - a: number\n  - b: number\nRETURNS: a - b\n\n[multiply]\nPURPOSE: Multiply two numbers\nINPUTS:\n  - a: number\n  - b: number\nRETURNS: a * b\n\n[divide]\nPURPOSE: Divide first number by second safely\nINPUTS:\n  - numerator: number\n  - divisor: number\nGUARDS:\n  - divisor must not be zero -&gt; ValueError(\"Cannot divide by zero\")\nRETURNS: numerator / divisor\n\n[power]\nPURPOSE: Raise base to exponent power\nINPUTS:\n  - base: number\n  - exponent: number\nRETURNS: base ** exponent\n\n@test [add] {\n  add(2, 3) == 5\n  add(-1, 1) == 0\n  add(0, 0) == 0\n}\n\n@test [divide] {\n  divide(10, 2) == 5.0\n  divide(9, 3) == 3.0\n}\n\n@property [add] {\n  add(a, b) == add(b, a)\n  add(a, 0) == a\n}\n</code></pre>"},{"location":"examples/#string-utilities","title":"String Utilities","text":"<p>String manipulation functions with literal blocks for regex.</p> <pre><code>@module strings\n@version 1.0.0\n@target python\n@imports re\n\n[slugify]\nPURPOSE: Convert text to URL-friendly slug format\nINPUTS:\n  - text: string\n\n@literal python {\nimport re\n\ndef slugify(text: str) -&gt; str:\n    \"\"\"Convert text to URL-friendly slug format.\"\"\"\n    text = text.lower().strip()\n    text = re.sub(r'\\s+', '-', text)\n    text = re.sub(r'[^a-z0-9-]', '', text)\n    return text.strip('-')\n}\n\n[truncate]\nPURPOSE: Truncate string to maximum length with ellipsis\nINPUTS:\n  - text: string\n  - max_length: number\n  - suffix: string, optional, \"Suffix to append (default: ...)\"\nGUARDS:\n  - max_length must be at least 1 -&gt; ValueError(\"Max length must be positive\")\nLOGIC:\n  1. Use suffix or default to \"...\" -&gt; actual_suffix\n  2. IF text length &lt;= max_length THEN return text unchanged\n  3. Calculate truncation point -&gt; cut_point\n  4. Slice text and append suffix -&gt; result\nRETURNS: result\n\n[capitalize-words]\nPURPOSE: Capitalize the first letter of each word\nINPUTS:\n  - text: string\nRETURNS: text.title()\n\n[reverse]\nPURPOSE: Reverse a string\nINPUTS:\n  - text: string\nRETURNS: text[::-1]\n\n@test [slugify] {\n  slugify(\"Hello World\") == \"hello-world\"\n  slugify(\"  Multiple   Spaces  \") == \"multiple-spaces\"\n  slugify(\"Special!@#Characters\") == \"specialcharacters\"\n}\n\n@test [truncate] {\n  truncate(\"Hello World\", 5) == \"He...\"\n  truncate(\"Hi\", 10) == \"Hi\"\n}\n\n@test [reverse] {\n  reverse(\"hello\") == \"olleh\"\n  reverse(\"\") == \"\"\n}\n</code></pre>"},{"location":"examples/#domain-models","title":"Domain Models","text":""},{"location":"examples/#e-commerce-shop","title":"E-Commerce Shop","text":"<p>Complete shop module with products, orders, and inventory.</p> <pre><code>@module shop\n@version 1.0.0\n@target python\n\n# Type Definitions\n@type Product {\n  id: string, required\n  name: string, required\n  price: number, min: 0\n  stock: number, min: 0\n  category: string\n}\n\n@type OrderItem {\n  product_id: string, required\n  quantity: number, min: 1\n  unit_price: number\n}\n\n@type Order {\n  id: string, required\n  customer_id: string, required\n  items: list of OrderItem\n  subtotal: number\n  tax: number\n  total: number\n  status: string\n}\n\n@invariant Order {\n  len(items) &gt; 0\n  total &gt;= 0\n  status in [\"pending\", \"confirmed\", \"shipped\", \"delivered\", \"cancelled\"]\n}\n\n# Product Operations\n[create-product]\nPURPOSE: Create a new product in the catalog\nINPUTS:\n  - id: string, required\n  - name: string, required\n  - price: number\n  - initial_stock: number, optional\n  - category: string, optional\nGUARDS:\n  - price must be non-negative -&gt; ValueError(\"Price cannot be negative\")\nRETURNS: Product(id=id, name=name, price=price, stock=initial_stock or 0, category=category or \"uncategorized\")\n\n[update-stock]\nPURPOSE: Update product stock level\nINPUTS:\n  - product: Product\n  - quantity_change: number, \"Positive to add, negative to remove\"\nGUARDS:\n  - product.stock + quantity_change must be non-negative -&gt; ValueError(\"Insufficient stock\")\nRETURNS: Product(id=product.id, name=product.name, price=product.price, stock=product.stock + quantity_change, category=product.category)\n\n# Order Operations\n[calculate-item-total]\nPURPOSE: Calculate total price for an order item\nINPUTS:\n  - item: OrderItem\nRETURNS: item.unit_price * item.quantity\n\n[calculate-order-subtotal]\nPURPOSE: Calculate subtotal for all items in order\nINPUTS:\n  - items: list of OrderItem\nLOGIC:\n  1. Sum total of each item -&gt; subtotal\nRETURNS: subtotal\nDEPENDS: [calculate-item-total]\n\n[calculate-order-tax]\nPURPOSE: Calculate tax for order subtotal\nINPUTS:\n  - subtotal: number\n  - tax_rate: number, \"Tax rate as decimal (e.g., 0.08 for 8%)\"\nGUARDS:\n  - tax_rate must be between 0 and 1 -&gt; ValueError(\"Tax rate must be 0-1\")\nRETURNS: subtotal * tax_rate\n\n[create-order]\nPURPOSE: Create a new order from items\nINPUTS:\n  - order_id: string, required\n  - customer_id: string, required\n  - items: list of OrderItem\n  - tax_rate: number\nGUARDS:\n  - items must not be empty -&gt; ValueError(\"Order must have items\")\nLOGIC:\n  1. Calculate subtotal -&gt; subtotal\n  2. Calculate tax -&gt; tax\n  3. Calculate total -&gt; total\nRETURNS: Order(id=order_id, customer_id=customer_id, items=items, subtotal=subtotal, tax=tax, total=subtotal + tax, status=\"pending\")\nDEPENDS: [calculate-order-subtotal], [calculate-order-tax]\n\n# Tests\n@test [calculate-item-total] {\n  calculate_item_total(OrderItem(product_id=\"p1\", quantity=2, unit_price=10.0)) == 20.0\n  calculate_item_total(OrderItem(product_id=\"p2\", quantity=1, unit_price=5.0)) == 5.0\n}\n\n@test [calculate-order-tax] {\n  calculate_order_tax(100, 0.08) == 8.0\n  calculate_order_tax(50, 0.10) == 5.0\n}\n\n@property [calculate-order-tax] {\n  calculate_order_tax(subtotal, 0) == 0\n  calculate_order_tax(0, rate) == 0\n}\n</code></pre>"},{"location":"examples/#banking-system","title":"Banking System","text":"<p>Account management with invariants and property tests.</p> <pre><code>@module banking\n@version 1.0.0\n@target python\n\n@type Account {\n  id: string, required\n  owner: string, required\n  balance: number\n  account_type: string\n}\n\n@type Transaction {\n  id: string, required\n  from_account: string\n  to_account: string\n  amount: number\n  timestamp: string\n  status: string\n}\n\n@invariant Account {\n  balance &gt;= 0\n  len(owner) &gt; 0\n  account_type in [\"checking\", \"savings\", \"investment\"]\n}\n\n[create-account]\nPURPOSE: Create a new bank account\nINPUTS:\n  - account_id: string, required\n  - owner_name: string, required\n  - account_type: string, optional\n  - initial_deposit: number, optional\nGUARDS:\n  - owner_name must not be empty -&gt; ValueError(\"Owner name required\")\n  - initial_deposit must be non-negative if provided -&gt; ValueError(\"Initial deposit cannot be negative\")\nRETURNS: Account(id=account_id, owner=owner_name, balance=initial_deposit or 0, account_type=account_type or \"checking\")\n\n[deposit]\nPURPOSE: Add money to an account\nINPUTS:\n  - account: Account\n  - amount: number\nGUARDS:\n  - amount must be positive -&gt; ValueError(\"Deposit amount must be positive\")\nRETURNS: Account(id=account.id, owner=account.owner, balance=account.balance + amount, account_type=account.account_type)\n\n[withdraw]\nPURPOSE: Remove money from an account\nINPUTS:\n  - account: Account\n  - amount: number\nGUARDS:\n  - amount must be positive -&gt; ValueError(\"Withdrawal amount must be positive\")\n  - amount must not exceed balance -&gt; ValueError(\"Insufficient funds\")\nRETURNS: Account(id=account.id, owner=account.owner, balance=account.balance - amount, account_type=account.account_type)\n\n[transfer]\nPURPOSE: Transfer money between accounts\nINPUTS:\n  - from_account: Account\n  - to_account: Account\n  - amount: number\nGUARDS:\n  - amount must be positive -&gt; ValueError(\"Transfer amount must be positive\")\n  - amount must not exceed from_account balance -&gt; ValueError(\"Insufficient funds\")\nLOGIC:\n  1. Withdraw from source account -&gt; updated_from\n  2. Deposit to destination account -&gt; updated_to\nRETURNS: (updated_from, updated_to)\nDEPENDS: [withdraw], [deposit]\n\n[get-balance]\nPURPOSE: Get current account balance\nINPUTS:\n  - account: Account\nRETURNS: account.balance\n\n[calculate-interest]\nPURPOSE: Calculate interest for savings account\nINPUTS:\n  - account: Account\n  - annual_rate: number, \"Annual interest rate as decimal\"\n  - days: number, \"Number of days\"\nGUARDS:\n  - account.account_type must be \"savings\" -&gt; ValueError(\"Interest only for savings accounts\")\n  - annual_rate must be non-negative -&gt; ValueError(\"Rate cannot be negative\")\n  - days must be positive -&gt; ValueError(\"Days must be positive\")\nLOGIC:\n  1. Calculate daily rate -&gt; daily_rate\n  2. Calculate interest -&gt; interest\nRETURNS: account.balance * (annual_rate / 365) * days\n\n@test [deposit] {\n  deposit(Account(id=\"1\", owner=\"Alice\", balance=100, account_type=\"checking\"), 50).balance == 150\n  deposit(Account(id=\"2\", owner=\"Bob\", balance=0, account_type=\"savings\"), 100).balance == 100\n}\n\n@test [withdraw] {\n  withdraw(Account(id=\"1\", owner=\"Alice\", balance=100, account_type=\"checking\"), 30).balance == 70\n}\n\n@property [deposit] {\n  deposit(account, amount).balance == account.balance + amount\n  deposit(account, amount).balance &gt; account.balance\n}\n\n@property [withdraw] {\n  withdraw(account, amount).balance == account.balance - amount\n  withdraw(account, amount).balance &gt;= 0\n}\n</code></pre>"},{"location":"examples/#workflow-examples","title":"Workflow Examples","text":""},{"location":"examples/#task-management","title":"Task Management","text":"<p>Task workflow with state machine pattern.</p> <pre><code>@module workflow\n@version 1.0.0\n@target python\n\n@type Task {\n  id: string, required\n  title: string, required\n  description: string\n  status: string\n  assignee: string?\n  priority: number\n  due_date: string?\n}\n\n@type TimeEstimate {\n  optimistic: number\n  realistic: number\n  pessimistic: number\n}\n\n@invariant Task {\n  status in [\"pending\", \"in_progress\", \"review\", \"completed\", \"cancelled\"]\n  priority &gt;= 1\n  priority &lt;= 5\n}\n\n[create-task]\nPURPOSE: Create a new task with default values\nINPUTS:\n  - task_id: string, required\n  - title: string, required\n  - description: string, optional\n  - priority: number, optional\nGUARDS:\n  - title must not be empty -&gt; ValueError(\"Task title required\")\nRETURNS: Task(id=task_id, title=title, description=description or \"\", status=\"pending\", assignee=None, priority=priority or 3, due_date=None)\n\n[assign-task]\nPURPOSE: Assign a task to a team member\nINPUTS:\n  - task: Task\n  - assignee: string\nGUARDS:\n  - task.status must be \"pending\" or \"in_progress\" -&gt; ValueError(\"Cannot assign completed task\")\n  - assignee must not be empty -&gt; ValueError(\"Assignee required\")\nRETURNS: Task(id=task.id, title=task.title, description=task.description, status=task.status, assignee=assignee, priority=task.priority, due_date=task.due_date)\n\n[start-task]\nPURPOSE: Move task to in-progress status\nINPUTS:\n  - task: Task\nGUARDS:\n  - task.status must be \"pending\" -&gt; ValueError(\"Task must be pending to start\")\n  - task.assignee must not be None -&gt; ValueError(\"Task must be assigned before starting\")\nRETURNS: Task(id=task.id, title=task.title, description=task.description, status=\"in_progress\", assignee=task.assignee, priority=task.priority, due_date=task.due_date)\n\n[complete-task]\nPURPOSE: Mark task as completed\nINPUTS:\n  - task: Task\nGUARDS:\n  - task.status must be \"in_progress\" or \"review\" -&gt; ValueError(\"Task must be in progress or review\")\nRETURNS: Task(id=task.id, title=task.title, description=task.description, status=\"completed\", assignee=task.assignee, priority=task.priority, due_date=task.due_date)\n\n[estimate-task-time]\nPURPOSE: Calculate expected time using PERT formula\nINPUTS:\n  - estimate: TimeEstimate\nGUARDS:\n  - estimate.optimistic must be positive -&gt; ValueError(\"Optimistic must be positive\")\n  - estimate.realistic must be &gt;= optimistic -&gt; ValueError(\"Realistic must be &gt;= optimistic\")\n  - estimate.pessimistic must be &gt;= realistic -&gt; ValueError(\"Pessimistic must be &gt;= realistic\")\nRETURNS: (estimate.optimistic + 4 * estimate.realistic + estimate.pessimistic) / 6\n\n[prioritize-tasks]\nPURPOSE: Sort tasks by priority (highest first)\nINPUTS:\n  - tasks: list of Task\nLOGIC:\n  1. Sort tasks by priority descending -&gt; sorted_tasks\nRETURNS: sorted_tasks\n\n@test [estimate-task-time] {\n  estimate_task_time(TimeEstimate(optimistic=1, realistic=2, pessimistic=3)) == 2.0\n  estimate_task_time(TimeEstimate(optimistic=2, realistic=4, pessimistic=6)) == 4.0\n}\n</code></pre>"},{"location":"examples/#authentication-example","title":"Authentication Example","text":"<p>JWT-based authentication flow.</p> <pre><code>@module auth\n@version 1.0.0\n@target python\n@imports jwt, datetime\n\n@type User {\n  id: string, required\n  email: string, required\n  name: string\n  role: string\n  is_active: boolean\n}\n\n@type AuthToken {\n  token: string, required\n  user_id: string, required\n  expires_at: string\n  scopes: list of string\n}\n\n@type AuthResult {\n  success: boolean\n  user: User?\n  token: AuthToken?\n  error: string?\n}\n\n[validate-credentials]\nPURPOSE: Validate username and password format\nINPUTS:\n  - email: string\n  - password: string\nGUARDS:\n  - email must not be empty -&gt; ValueError(\"Email required\")\n  - email must contain @ symbol -&gt; ValueError(\"Invalid email format\")\n  - password must not be empty -&gt; ValueError(\"Password required\")\n  - password must be at least 8 characters -&gt; ValueError(\"Password too short\")\nRETURNS: True\n\n[generate-token]\nPURPOSE: Generate JWT token for authenticated user\nINPUTS:\n  - user: User\n  - secret: string\n  - expiry_hours: number, optional\nGUARDS:\n  - user.is_active must be True -&gt; AuthError(\"User account is inactive\")\nLOGIC:\n  1. Set expiry to expiry_hours or default 24 -&gt; hours\n  2. Calculate expiration timestamp -&gt; expires_at\n  3. Create JWT payload -&gt; payload\n  4. Sign token with secret -&gt; signed_token\nRETURNS: AuthToken(token=signed_token, user_id=user.id, expires_at=expires_at, scopes=[user.role])\n\n[verify-token]\nPURPOSE: Verify and decode a JWT token\nINPUTS:\n  - token: string\n  - secret: string\nGUARDS:\n  - token must not be empty -&gt; AuthError(MISSING_TOKEN, \"Token required\")\nLOGIC:\n  1. Decode token with secret -&gt; payload\n  2. Check if token has expired -&gt; is_expired\n  3. IF is_expired THEN raise AuthError\n  4. Extract user_id and scopes -&gt; user_id, scopes\nRETURNS: AuthToken(token=token, user_id=user_id, expires_at=payload.exp, scopes=scopes)\n\n[require-role]\nPURPOSE: Check if user has required role\nINPUTS:\n  - user: User\n  - required_role: string\nGUARDS:\n  - user must not be None -&gt; AuthError(\"Authentication required\")\n  - user.role must equal required_role -&gt; AuthError(FORBIDDEN, \"Insufficient permissions\")\nRETURNS: True\n\n[authenticate]\nPURPOSE: Full authentication flow\nINPUTS:\n  - email: string\n  - password: string\n  - secret: string\nLOGIC:\n  1. Validate credentials format -&gt; valid\n  2. Look up user by email -&gt; user\n  3. IF user not found THEN return failure result\n  4. Verify password hash -&gt; password_match\n  5. IF not password_match THEN return failure result\n  6. Generate auth token -&gt; token\nRETURNS: AuthResult(success=True, user=user, token=token, error=None)\nDEPENDS: [validate-credentials], [generate-token]\n\n@test [validate-credentials] {\n  validate_credentials(\"user@example.com\", \"password123\") == True\n}\n\n@test [require-role] {\n  require_role(User(id=\"1\", email=\"a@b.c\", name=\"Admin\", role=\"admin\", is_active=True), \"admin\") == True\n}\n</code></pre>"},{"location":"examples/#download-examples","title":"Download Examples","text":"<p>All examples are available in the <code>examples/</code> directory of the repository:</p> <ul> <li>math.nl</li> <li>strings.nl</li> <li>billing.nl</li> <li>workflow_engine.nl</li> <li>shop_demo.nl</li> </ul>"},{"location":"examples/#next-steps","title":"Next Steps","text":"<ul> <li>Tutorials \u2014 Step-by-step learning</li> <li>Language Specification \u2014 Complete syntax reference</li> <li>LLM Reference \u2014 AI-optimized documentation</li> </ul>"},{"location":"getting-started/","title":"Getting Started","text":"<p>This guide will walk you through installing NLS and creating your first compiled specification.</p>"},{"location":"getting-started/#installation","title":"Installation","text":"From PyPIWith Tree-sitter ParserDevelopment Setup <pre><code>pip install nlsc\n</code></pre> <pre><code>pip install \"nlsc[treesitter]\"\n</code></pre> <p>The tree-sitter parser provides faster parsing and better error recovery.</p> <pre><code>git clone https://github.com/Mnehmos/mnehmos.nls.lang.git\ncd mnehmos.nls.lang\npip install -e \".[dev,treesitter]\"\n</code></pre>"},{"location":"getting-started/#initialize-a-project","title":"Initialize a Project","text":"<p>Create a new NLS project with the proper folder structure:</p> <pre><code>nlsc init my-project\ncd my-project\n</code></pre> <p>This creates:</p> <pre><code>my-project/\n\u251c\u2500\u2500 nl.config.yaml    # Project configuration\n\u251c\u2500\u2500 src/              # Source .nl files\n\u2502   \u2514\u2500\u2500 __init__.py\n\u2514\u2500\u2500 tests/            # Generated tests\n    \u2514\u2500\u2500 __init__.py\n</code></pre>"},{"location":"getting-started/#your-first-nl-file","title":"Your First .nl File","text":"<p>Create <code>src/calculator.nl</code>:</p> <pre><code>@module calculator\n@target python\n\n[add]\nPURPOSE: Add two numbers together\nINPUTS:\n  - a: number\n  - b: number\nRETURNS: a + b\n\n[divide]\nPURPOSE: Divide two numbers safely\nINPUTS:\n  - numerator: number\n  - divisor: number\nGUARDS:\n  - divisor must not be zero -&gt; ValueError(\"Cannot divide by zero\")\nRETURNS: numerator / divisor\n\n@test [add] {\n  add(2, 3) == 5\n  add(-1, 1) == 0\n}\n</code></pre>"},{"location":"getting-started/#compile-to-python","title":"Compile to Python","text":"<pre><code>nlsc compile src/calculator.nl\n</code></pre> <p>Output:</p> <pre><code>Compiling src/calculator.nl (parser: regex)...\n  \u2713 Parsed 2 ANLUs\n  \u2713 Resolved dependencies\n  \u2713 Generated calculator.py (25 lines)\n  \u2713 Generated test_calculator.py\n  \u2713 Updated calculator.nl.lock\n\nCompilation complete!\n</code></pre>"},{"location":"getting-started/#run-the-tests","title":"Run the Tests","text":"<pre><code>nlsc test src/calculator.nl\n</code></pre> <p>Output:</p> <pre><code>Running 2 test cases from src/calculator.nl...\n  \u2022 [add]: 2 cases\n\n\u2713 All 2 tests passed!\n</code></pre>"},{"location":"getting-started/#use-the-generated-code","title":"Use the Generated Code","text":"<pre><code>from src.calculator import add, divide\n\nresult = add(2, 3)  # 5\nratio = divide(10, 2)  # 5.0\n\ntry:\n    divide(1, 0)\nexcept ValueError as e:\n    print(e)  # \"Cannot divide by zero\"\n</code></pre>"},{"location":"getting-started/#next-steps","title":"Next Steps","text":"<ul> <li>CLI Reference \u2014 Learn all 8 nlsc commands</li> <li>Language Specification \u2014 Full syntax reference</li> <li>Architecture \u2014 How the compiler works</li> </ul>"},{"location":"getting-started/#workflow-tips","title":"Workflow Tips","text":""},{"location":"getting-started/#watch-mode","title":"Watch Mode","text":"<p>Automatically recompile on file changes:</p> <pre><code>nlsc watch src/ --test\n</code></pre>"},{"location":"getting-started/#visualize-dependencies","title":"Visualize Dependencies","text":"<p>Generate Mermaid diagrams:</p> <pre><code>nlsc graph src/calculator.nl --format mermaid\n</code></pre>"},{"location":"getting-started/#see-what-changed","title":"See What Changed","text":"<p>View differences since last compile:</p> <pre><code>nlsc diff src/calculator.nl\n</code></pre>"},{"location":"language-spec/","title":"Language Specification","text":"<p>This document defines the complete syntax of <code>.nl</code> files.</p>"},{"location":"language-spec/#file-structure","title":"File Structure","text":"<p>An <code>.nl</code> file consists of:</p> <ol> <li>Directives \u2014 Module metadata (<code>@module</code>, <code>@version</code>, <code>@target</code>, <code>@imports</code>)</li> <li>ANLU Blocks \u2014 Function specifications (<code>[name]</code>)</li> <li>Type Definitions \u2014 Custom types (<code>@type</code>)</li> <li>Test Blocks \u2014 Test specifications (<code>@test</code>)</li> <li>Literal Blocks \u2014 Code escape hatches (<code>@literal</code>)</li> <li>Comments \u2014 Lines starting with <code>#</code></li> </ol>"},{"location":"language-spec/#directives","title":"Directives","text":""},{"location":"language-spec/#module","title":"<code>@module</code>","text":"<p>Required. Declares the module name.</p> <pre><code>@module calculator\n</code></pre> <p>Pattern: <code>^[a-z][a-z0-9_]*$</code> (lowercase snake_case)</p>"},{"location":"language-spec/#version","title":"<code>@version</code>","text":"<p>Optional semantic version.</p> <pre><code>@version 1.0.0\n</code></pre>"},{"location":"language-spec/#target","title":"<code>@target</code>","text":"<p>Required. Specifies the compilation target.</p> <pre><code>@target python\n</code></pre> <p>Supported: <code>python</code> (more coming)</p>"},{"location":"language-spec/#imports","title":"<code>@imports</code>","text":"<p>Optional comma-separated import list.</p> <pre><code>@imports jwt, datetime, typing\n</code></pre>"},{"location":"language-spec/#anlu-blocks","title":"ANLU Blocks","text":"<p>ANLU (Atomic Natural Language Unit) blocks define functions.</p> <pre><code>[function-name]\nPURPOSE: Single sentence describing what this does\nINPUTS:\n  - param1: type\n  - param2: type, optional\nGUARDS:\n  - condition -&gt; ErrorType(\"message\")\nLOGIC:\n  1. Description of step -&gt; variable\n  2. Another step\nEDGE CASES:\n  - condition -&gt; behavior\nRETURNS: expression\nDEPENDS: [other-function], [another]\n</code></pre>"},{"location":"language-spec/#identifier","title":"Identifier","text":"<p>ANLU names use kebab-case:</p> <pre><code>[calculate-tax]\n[is-empty]\n[validate-user-token]\n</code></pre> <p>Pattern: <code>^[a-z][a-z0-9-]*$</code></p> <p>For methods, use dot notation:</p> <pre><code>[User.validate]\n[Order.calculate-total]\n</code></pre>"},{"location":"language-spec/#purpose","title":"PURPOSE","text":"<p>Required. Single sentence in imperative mood.</p> <pre><code>PURPOSE: Calculate the total price including tax\n</code></pre>"},{"location":"language-spec/#inputs","title":"INPUTS","text":"<p>Typed parameter list with optional constraints.</p> <pre><code>INPUTS:\n  - amount: number\n  - rate: number, \"Tax rate as decimal\"\n  - currency: string, optional\n</code></pre> <p>Bullets can be <code>\u2022</code>, <code>-</code>, or <code>*</code>.</p>"},{"location":"language-spec/#guards","title":"GUARDS","text":"<p>Preconditions with error mappings.</p> <pre><code>GUARDS:\n  - amount must be non-negative -&gt; ValueError(\"Amount cannot be negative\")\n  - rate must be between 0 and 1 -&gt; ValidationError(INVALID_RATE, \"Rate must be 0-1\")\n</code></pre>"},{"location":"language-spec/#logic","title":"LOGIC","text":"<p>Numbered steps describing the algorithm.</p> <pre><code>LOGIC:\n  1. Calculate base tax -&gt; tax\n  2. Add service fee if applicable -&gt; fee\n  3. Combine tax and fee -&gt; total\n</code></pre> <p>Steps can include:</p> <ul> <li>Output binding: <code>-&gt; variable</code></li> <li>Conditionals: <code>IF condition THEN action</code></li> <li>State markers: <code>[state] action</code></li> </ul>"},{"location":"language-spec/#edge-cases","title":"EDGE CASES","text":"<p>Explicit boundary condition handling.</p> <pre><code>EDGE CASES:\n  - Zero amount -&gt; return 0\n  - Empty list -&gt; return None\n</code></pre>"},{"location":"language-spec/#returns","title":"RETURNS","text":"<p>Required. Output expression or type.</p> <pre><code>RETURNS: base + tax\nRETURNS: TaxResult with amount, effective_rate\nRETURNS: list of Order\n</code></pre>"},{"location":"language-spec/#depends","title":"DEPENDS","text":"<p>Dependencies on other ANLUs.</p> <pre><code>DEPENDS: [validate-input], [calculate-base]\n</code></pre>"},{"location":"language-spec/#type-system","title":"Type System","text":""},{"location":"language-spec/#primitives","title":"Primitives","text":"Type Description <code>number</code> Integer or float <code>string</code> Text <code>boolean</code> <code>true</code> / <code>false</code> <code>void</code> No return value <code>any</code> Dynamic typing escape hatch"},{"location":"language-spec/#composites","title":"Composites","text":"<p>List:</p> <pre><code>list of number\nlist of User\n</code></pre> <p>Optional:</p> <pre><code>string?\nUser?\n</code></pre> <p>Map:</p> <pre><code>map of string to number\n</code></pre> <p>Union:</p> <pre><code>string | number\nSuccess | Error\n</code></pre>"},{"location":"language-spec/#type-definitions","title":"Type Definitions","text":"<p>Define custom types with <code>@type</code>:</p> <pre><code>@type Point {\n  x: number\n  y: number\n}\n\n@type Order {\n  id: string, required\n  items: list of OrderItem\n  total: number, \"Order total in cents\"\n  status: string\n}\n</code></pre>"},{"location":"language-spec/#inheritance","title":"Inheritance","text":"<pre><code>@type OrderItem extends BaseItem {\n  quantity: number\n  price: number\n}\n</code></pre>"},{"location":"language-spec/#field-constraints","title":"Field Constraints","text":"<pre><code>@type User {\n  email: string, required\n  age: number, optional\n  role: string, \"User role in system\"\n}\n</code></pre>"},{"location":"language-spec/#test-blocks","title":"Test Blocks","text":"<p>Define test cases with <code>@test</code>:</p> <pre><code>@test [add] {\n  add(1, 2) == 3\n  add(0, 0) == 0\n  add(-5, 5) == 0\n}\n\n@test [divide] {\n  divide(10, 2) == 5.0\n  divide(9, 3) == 3.0\n}\n</code></pre> <p>Test blocks generate executable pytest code.</p>"},{"location":"language-spec/#literal-blocks","title":"Literal Blocks","text":"<p>Escape hatch for exact code when needed:</p> <pre><code>[slugify]\nPURPOSE: Convert text to URL-friendly slug format\nINPUTS:\n  - text: string\n\n@literal python {\nimport re\n\ndef slugify(text: str) -&gt; str:\n    \"\"\"Convert text to URL-friendly slug format.\"\"\"\n    text = text.lower().strip()\n    text = re.sub(r'\\s+', '-', text)\n    text = re.sub(r'[^a-z0-9-]', '', text)\n    return text.strip('-')\n}\n</code></pre> <p>Literal blocks bypass the compiler and emit code exactly as written.</p>"},{"location":"language-spec/#comments","title":"Comments","text":"<p>Lines starting with <code>#</code> are comments:</p> <pre><code># Math Module\n# This provides basic arithmetic operations\n\n@module math\n@target python\n\n# Addition function\n[add]\nPURPOSE: Add two numbers\n...\n</code></pre>"},{"location":"language-spec/#formatting-notes","title":"Formatting Notes","text":"<ol> <li>Bullets are flexible: <code>\u2022</code>, <code>-</code>, or <code>*</code></li> <li>Arrows are flexible: <code>\u2192</code> (Unicode) or <code>-&gt;</code> (ASCII)</li> <li>Section headers are case-insensitive</li> <li>Indentation uses spaces for visual structure</li> <li>Unicode is supported in text content</li> </ol>"},{"location":"language-spec/#grammar-reference","title":"Grammar Reference","text":"<p>For the complete formal grammar, see nl-grammar.ebnf.</p>"},{"location":"llm-reference/","title":"LLM Reference","text":"<p>For AI Systems</p> <p>This page is optimized for LLMs learning to read and write NLS code. It contains complete syntax patterns, examples, and edge cases in a format designed for AI training and inference.</p>"},{"location":"llm-reference/#quick-syntax-reference","title":"Quick Syntax Reference","text":""},{"location":"llm-reference/#file-structure-template","title":"File Structure Template","text":"<pre><code># Optional comment describing the module\n@module module_name\n@version 1.0.0\n@target python\n@imports dependency1, dependency2\n\n# Type definitions (optional)\n@type TypeName {\n  field1: type\n  field2: type, optional\n}\n\n# ANLU blocks (functions)\n[function-name]\nPURPOSE: Single sentence describing what this does\nINPUTS:\n  - param1: type\n  - param2: type, optional\nGUARDS:\n  - condition -&gt; ErrorType(\"message\")\nLOGIC:\n  1. First step description -&gt; variable1\n  2. Second step description -&gt; variable2\nEDGE CASES:\n  - edge condition -&gt; behavior\nRETURNS: expression\nDEPENDS: [other-function]\n\n# Test blocks (optional)\n@test [function-name] {\n  function_name(arg1, arg2) == expected\n}\n\n# Property tests (optional)\n@property [function-name] {\n  forall x: type -&gt; assertion\n}\n\n# Invariants for types (optional)\n@invariant TypeName {\n  condition1\n  condition2\n}\n\n# Literal escape hatch (optional)\n@literal python {\nexact code here\n}\n</code></pre>"},{"location":"llm-reference/#complete-directive-reference","title":"Complete Directive Reference","text":""},{"location":"llm-reference/#module-required","title":"@module (Required)","text":"<p>Declares the module name. Must be lowercase snake_case.</p> <pre><code>@module calculator\n@module user_authentication\n@module order_processing\n</code></pre> <p>Pattern: <code>^[a-z][a-z0-9_]*$</code></p>"},{"location":"llm-reference/#version-optional","title":"@version (Optional)","text":"<p>Semantic version string.</p> <pre><code>@version 1.0.0\n@version 2.3.1\n@version 0.1.0-beta\n</code></pre>"},{"location":"llm-reference/#target-required","title":"@target (Required)","text":"<p>Compilation target language.</p> <pre><code>@target python\n</code></pre> <p>Currently supported: <code>python</code> Planned: <code>typescript</code>, <code>rust</code></p>"},{"location":"llm-reference/#imports-optional","title":"@imports (Optional)","text":"<p>Comma-separated list of modules to import.</p> <pre><code>@imports datetime, json\n@imports jwt, typing, dataclasses\n@imports numpy, pandas, matplotlib\n</code></pre>"},{"location":"llm-reference/#anlu-block-complete-reference","title":"ANLU Block Complete Reference","text":""},{"location":"llm-reference/#identifier-patterns","title":"Identifier Patterns","text":"<p>ANLUs use kebab-case for function names:</p> <pre><code>[add]\n[calculate-tax]\n[validate-user-input]\n[is-empty]\n[has-permission]\n</code></pre> <p>For methods on types, use dot notation:</p> <pre><code>[User.validate]\n[Order.calculate-total]\n[Account.deposit]\n</code></pre> <p>Pattern: <code>^[a-z][a-z0-9-]*$</code> or <code>^[A-Z][a-zA-Z0-9]*\\.[a-z][a-z0-9-]*$</code></p>"},{"location":"llm-reference/#purpose-section-required","title":"PURPOSE Section (Required)","text":"<p>Single sentence in imperative mood describing the function's intent.</p> <pre><code>PURPOSE: Add two numbers together\nPURPOSE: Calculate the total price including tax and discounts\nPURPOSE: Validate that a JWT token is properly signed and not expired\nPURPOSE: Convert a string to URL-friendly slug format\n</code></pre> <p>Guidelines: - Start with a verb (Add, Calculate, Validate, Convert, Check, Get, Set) - Be specific about what the function does - Keep under 200 characters</p>"},{"location":"llm-reference/#inputs-section-optional","title":"INPUTS Section (Optional)","text":"<p>Typed parameter list with optional constraints and descriptions.</p> <p>Basic syntax: <pre><code>INPUTS:\n  - name: type\n</code></pre></p> <p>With constraints: <pre><code>INPUTS:\n  - amount: number, non-negative\n  - count: number, required\n  - status: string, optional\n</code></pre></p> <p>With descriptions: <pre><code>INPUTS:\n  - income: number, \"Annual income in dollars\"\n  - rate: number, \"Tax rate as decimal between 0 and 1\"\n  - token: string, required, \"The JWT to validate\"\n</code></pre></p> <p>Complex types: <pre><code>INPUTS:\n  - items: list of OrderItem\n  - config: dict of string to any\n  - user: User?\n  - callback: function\n</code></pre></p> <p>Bullet styles (all valid): <pre><code>INPUTS:\n  - param1: number    # dash\n  \u2022 param2: string    # bullet\n  * param3: boolean   # asterisk\n</code></pre></p>"},{"location":"llm-reference/#guards-section-optional","title":"GUARDS Section (Optional)","text":"<p>Preconditions that must be true, with error mappings.</p> <p>Basic guard: <pre><code>GUARDS:\n  - amount must be positive -&gt; ValueError(\"Amount must be positive\")\n</code></pre></p> <p>Multiple guards: <pre><code>GUARDS:\n  - divisor must not be zero -&gt; ValueError(\"Cannot divide by zero\")\n  - rate must be between 0 and 1 -&gt; ValueError(\"Rate out of range\")\n  - user must be authenticated -&gt; AuthError(\"Not authenticated\")\n</code></pre></p> <p>With error codes: <pre><code>GUARDS:\n  - token must not be empty -&gt; AuthError(MISSING_TOKEN, \"Token required\")\n  - token must be valid format -&gt; AuthError(INVALID_FORMAT, \"Malformed token\")\n</code></pre></p> <p>Arrow styles (both valid): <pre><code>GUARDS:\n  - condition -&gt; Error(\"message\")     # ASCII arrow\n  - condition \u2192 Error(\"message\")      # Unicode arrow\n</code></pre></p>"},{"location":"llm-reference/#logic-section-optional","title":"LOGIC Section (Optional)","text":"<p>Numbered steps describing the algorithm. Steps can bind values to variables.</p> <p>Basic steps: <pre><code>LOGIC:\n  1. Add the two numbers together -&gt; sum\n  2. Multiply by the rate -&gt; result\n  3. Round to two decimal places -&gt; final\n</code></pre></p> <p>With conditionals: <pre><code>LOGIC:\n  1. Calculate base price -&gt; base\n  2. IF customer is premium THEN apply 10% discount -&gt; discounted\n  3. Add shipping cost -&gt; total\n</code></pre></p> <p>With state markers (for FSM): <pre><code>LOGIC:\n  1. [pending] Receive the order -&gt; order\n  2. [validating] Check inventory availability -&gt; available\n  3. [processing] IF available THEN reserve items -&gt; reservation\n  4. [shipped] Create shipment -&gt; shipment\n  5. [delivered] Confirm delivery -&gt; confirmation\n</code></pre></p> <p>Variable binding: <pre><code>LOGIC:\n  1. Extract the header from token -&gt; header\n  2. Decode the payload -&gt; payload\n  3. Verify the signature -&gt; is_valid\n  4. Check expiration time -&gt; is_expired\n</code></pre></p>"},{"location":"llm-reference/#edge-cases-section-optional","title":"EDGE CASES Section (Optional)","text":"<p>Explicit handling for boundary conditions.</p> <pre><code>EDGE CASES:\n  - Empty list -&gt; return empty list\n  - Zero amount -&gt; return 0\n  - Null input -&gt; return None\n  - Single item -&gt; return item unchanged\n  - Negative value -&gt; raise ValueError\n</code></pre>"},{"location":"llm-reference/#returns-section-required","title":"RETURNS Section (Required)","text":"<p>Output expression or type specification.</p> <p>Simple expressions: <pre><code>RETURNS: a + b\nRETURNS: result\nRETURNS: total * rate\nRETURNS: items[0]\n</code></pre></p> <p>Type specifications: <pre><code>RETURNS: number\nRETURNS: string\nRETURNS: list of Order\nRETURNS: User?\n</code></pre></p> <p>Complex expressions: <pre><code>RETURNS: (base + tax) * quantity\nRETURNS: Order(id=new_id, items=validated_items, total=calculated_total)\nRETURNS: {\"status\": \"success\", \"data\": result}\n</code></pre></p> <p>Conditional returns: <pre><code>RETURNS: discounted if is_premium else base\nRETURNS: result if valid else None\n</code></pre></p> <p>Descriptive returns (generates NotImplementedError): <pre><code>RETURNS: the user with the highest score\nRETURNS: optimal path through the graph\nRETURNS: weighted average based on priorities\n</code></pre></p>"},{"location":"llm-reference/#depends-section-optional","title":"DEPENDS Section (Optional)","text":"<p>Dependencies on other ANLUs for ordering and documentation.</p> <pre><code>DEPENDS: [validate-input]\nDEPENDS: [calculate-base], [apply-discount]\nDEPENDS: [User.authenticate], [check-permissions]\n</code></pre> <p>Special value for no dependencies: <pre><code>DEPENDS: none\n</code></pre></p>"},{"location":"llm-reference/#type-system-reference","title":"Type System Reference","text":""},{"location":"llm-reference/#primitive-types","title":"Primitive Types","text":"Type Description Python Equivalent <code>number</code> Integer or float <code>float</code> <code>string</code> Text <code>str</code> <code>boolean</code> True/false <code>bool</code> <code>void</code> No return <code>None</code> <code>any</code> Dynamic typing <code>Any</code>"},{"location":"llm-reference/#composite-types","title":"Composite Types","text":"<p>List: <pre><code>list of number\nlist of string\nlist of User\nlist of list of number\n</code></pre></p> <p>Dictionary/Map: <pre><code>dict of string to number\ndict of string to any\nmap of string to User\n</code></pre></p> <p>Optional/Nullable: <pre><code>string?\nUser?\noptional number\nnumber or None\n</code></pre></p> <p>Union: <pre><code>string | number\nSuccess | Error\nUser | Guest | Admin\n</code></pre></p>"},{"location":"llm-reference/#type-definition-syntax","title":"Type Definition Syntax","text":"<p>Basic type: <pre><code>@type Point {\n  x: number\n  y: number\n}\n</code></pre></p> <p>With constraints: <pre><code>@type User {\n  id: string, required\n  email: string, required\n  name: string\n  age: number, optional\n  role: string, \"User's role in the system\"\n}\n</code></pre></p> <p>With inheritance: <pre><code>@type OrderItem extends BaseItem {\n  quantity: number, min: 1\n  unit_price: number\n  discount: number, optional\n}\n</code></pre></p> <p>With field constraints: <pre><code>@type Product {\n  name: string, required\n  price: number, min: 0\n  stock: number, min: 0, max: 10000\n  category: string\n}\n</code></pre></p>"},{"location":"llm-reference/#testing-syntax","title":"Testing Syntax","text":""},{"location":"llm-reference/#test-blocks","title":"@test Blocks","text":"<p>Define example-based tests for ANLUs.</p> <pre><code>@test [add] {\n  add(1, 2) == 3\n  add(0, 0) == 0\n  add(-5, 5) == 0\n  add(1.5, 2.5) == 4.0\n}\n\n@test [divide] {\n  divide(10, 2) == 5.0\n  divide(9, 3) == 3.0\n  divide(1, 4) == 0.25\n}\n\n@test [is-empty] {\n  is_empty([]) == True\n  is_empty([1]) == False\n  is_empty(\"\") == True\n  is_empty(\"hello\") == False\n}\n</code></pre>"},{"location":"llm-reference/#property-blocks","title":"@property Blocks","text":"<p>Define property-based tests using Hypothesis.</p> <p>Basic properties: <pre><code>@property [add] {\n  add(a, b) == add(b, a)           # commutativity\n  add(a, 0) == a                    # identity\n  add(add(a, b), c) == add(a, add(b, c))  # associativity\n}\n</code></pre></p> <p>With forall quantifier: <pre><code>@property [abs] {\n  forall x: number -&gt; abs(x) &gt;= 0\n  forall x: number -&gt; abs(-x) == abs(x)\n  forall x: number -&gt; abs(x * x) == x * x\n}\n</code></pre></p> <p>For custom types: <pre><code>@property [deposit] {\n  deposit(acc, amt).balance == acc.balance + amt\n  deposit(acc, amt).balance &gt;= acc.balance\n}\n</code></pre></p>"},{"location":"llm-reference/#invariant-blocks","title":"@invariant Blocks","text":"<p>Define invariants that must hold for all instances of a type.</p> <pre><code>@invariant Account {\n  balance &gt;= 0\n  len(owner) &gt; 0\n}\n\n@invariant Rectangle {\n  self.width &gt; 0\n  self.height &gt; 0\n  self.area() == self.width * self.height\n}\n\n@invariant Order {\n  len(items) &gt; 0\n  total &gt;= 0\n  status in [\"pending\", \"processing\", \"shipped\", \"delivered\"]\n}\n</code></pre>"},{"location":"llm-reference/#literal-blocks","title":"Literal Blocks","text":"<p>Escape hatch for exact code when NLS specification isn't sufficient.</p> <pre><code>[slugify]\nPURPOSE: Convert text to URL-friendly slug format\nINPUTS:\n  - text: string\n\n@literal python {\nimport re\n\ndef slugify(text: str) -&gt; str:\n    \"\"\"Convert text to URL-friendly slug format.\"\"\"\n    text = text.lower().strip()\n    text = re.sub(r'\\s+', '-', text)\n    text = re.sub(r'[^a-z0-9-]', '', text)\n    return text.strip('-')\n}\n</code></pre> <p>When to use: - Performance-critical code - Complex algorithms with precise implementation requirements - Integration with external libraries - Regex patterns or special syntax</p>"},{"location":"llm-reference/#complete-examples","title":"Complete Examples","text":""},{"location":"llm-reference/#example-1-calculator-module","title":"Example 1: Calculator Module","text":"<pre><code>@module calculator\n@version 1.0.0\n@target python\n\n[add]\nPURPOSE: Add two numbers together\nINPUTS:\n  - a: number\n  - b: number\nRETURNS: a + b\n\n[subtract]\nPURPOSE: Subtract second number from first\nINPUTS:\n  - a: number\n  - b: number\nRETURNS: a - b\n\n[multiply]\nPURPOSE: Multiply two numbers\nINPUTS:\n  - a: number\n  - b: number\nRETURNS: a * b\n\n[divide]\nPURPOSE: Divide first number by second safely\nINPUTS:\n  - numerator: number\n  - divisor: number\nGUARDS:\n  - divisor must not be zero -&gt; ValueError(\"Cannot divide by zero\")\nRETURNS: numerator / divisor\n\n@test [add] {\n  add(2, 3) == 5\n  add(-1, 1) == 0\n  add(0, 0) == 0\n}\n\n@test [divide] {\n  divide(10, 2) == 5.0\n  divide(9, 3) == 3.0\n}\n\n@property [add] {\n  add(a, b) == add(b, a)\n  add(a, 0) == a\n}\n</code></pre>"},{"location":"llm-reference/#example-2-user-authentication","title":"Example 2: User Authentication","text":"<pre><code>@module auth\n@version 1.0.0\n@target python\n@imports jwt, datetime\n\n@type User {\n  id: string, required\n  email: string, required\n  name: string\n  role: string\n}\n\n@type AuthToken {\n  user_id: string, required\n  expires_at: datetime\n  scopes: list of string\n}\n\n[validate-token]\nPURPOSE: Validate a JWT token and extract user information\nINPUTS:\n  - token: string, required, \"The JWT to validate\"\n  - secret: string, required, \"Secret key for verification\"\nGUARDS:\n  - token must not be empty -&gt; AuthError(MISSING_TOKEN, \"Token required\")\n  - token must be valid JWT format -&gt; AuthError(INVALID_FORMAT, \"Malformed token\")\nLOGIC:\n  1. Decode the token header without verification -&gt; header\n  2. Verify the signature using the secret -&gt; is_valid\n  3. IF not is_valid THEN raise AuthError\n  4. Extract the payload claims -&gt; payload\n  5. Check if token has expired -&gt; is_expired\n  6. IF is_expired THEN raise AuthError(EXPIRED, \"Token has expired\")\nRETURNS: AuthToken(user_id=payload.sub, expires_at=payload.exp, scopes=payload.scopes)\nDEPENDS: none\n\n[require-role]\nPURPOSE: Check if user has required role\nINPUTS:\n  - user: User\n  - required_role: string\nGUARDS:\n  - user must not be None -&gt; AuthError(\"User required\")\n  - user.role must equal required_role -&gt; AuthError(FORBIDDEN, \"Insufficient permissions\")\nRETURNS: True\nDEPENDS: [validate-token]\n\n@test [require-role] {\n  require_role(User(id=\"1\", email=\"a@b.c\", name=\"Test\", role=\"admin\"), \"admin\") == True\n}\n</code></pre>"},{"location":"llm-reference/#example-3-order-processing-with-fsm","title":"Example 3: Order Processing with FSM","text":"<pre><code>@module order_processing\n@version 1.0.0\n@target python\n\n@type Order {\n  id: string, required\n  customer_id: string, required\n  items: list of OrderItem, required\n  total: number\n  status: string\n}\n\n@type OrderItem {\n  product_id: string, required\n  quantity: number, min: 1\n  unit_price: number\n}\n\n@invariant Order {\n  len(items) &gt; 0\n  total &gt;= 0\n}\n\n[process-order]\nPURPOSE: Process an order through its lifecycle\nINPUTS:\n  - order: Order\nGUARDS:\n  - order must not be None -&gt; ValueError(\"Order required\")\n  - order.items must not be empty -&gt; ValueError(\"Order must have items\")\nLOGIC:\n  1. [pending] Validate order details -&gt; validated_order\n  2. [validating] Check inventory for all items -&gt; inventory_check\n  3. [processing] IF inventory_check.available THEN reserve items -&gt; reservation\n  4. [processing] Calculate final total with taxes -&gt; final_total\n  5. [confirmed] Create payment request -&gt; payment\n  6. [paid] IF payment.success THEN create shipment -&gt; shipment\n  7. [shipped] Update order status to shipped -&gt; updated_order\nEDGE CASES:\n  - Inventory not available -&gt; return order with status \"backordered\"\n  - Payment failed -&gt; return order with status \"payment_failed\"\nRETURNS: updated_order\nDEPENDS: [validate-order], [check-inventory], [calculate-total]\n\n[calculate-total]\nPURPOSE: Calculate order total including taxes and discounts\nINPUTS:\n  - items: list of OrderItem\n  - tax_rate: number, \"Tax rate as decimal\"\n  - discount: number, optional, \"Discount percentage\"\nLOGIC:\n  1. Sum the price of all items -&gt; subtotal\n  2. IF discount THEN apply discount percentage -&gt; discounted\n  3. Calculate tax on discounted amount -&gt; tax\n  4. Add tax to discounted amount -&gt; total\nRETURNS: total\n</code></pre>"},{"location":"llm-reference/#syntax-quick-reference-card","title":"Syntax Quick Reference Card","text":""},{"location":"llm-reference/#symbols","title":"Symbols","text":"Symbol Meaning Alternative <code>[name]</code> ANLU identifier <code>@directive</code> Module-level directive <code>-&gt;</code> Arrow (guards, bindings) <code>\u2192</code> <code>-</code> List bullet <code>\u2022</code> or <code>*</code> <code>#</code> Comment <code>?</code> Optional type <code>optional T</code> <code>\\|</code> Union type"},{"location":"llm-reference/#section-keywords","title":"Section Keywords","text":"Keyword Required Description <code>PURPOSE:</code> Yes Function description <code>INPUTS:</code> No Parameters <code>GUARDS:</code> No Preconditions <code>LOGIC:</code> No Algorithm steps <code>EDGE CASES:</code> No Boundary handling <code>RETURNS:</code> Yes Output <code>DEPENDS:</code> No Dependencies"},{"location":"llm-reference/#type-keywords","title":"Type Keywords","text":"Keyword Example <code>list of</code> <code>list of number</code> <code>dict of ... to</code> <code>dict of string to any</code> <code>map of ... to</code> <code>map of string to User</code> <code>optional</code> <code>optional string</code>"},{"location":"llm-reference/#common-patterns","title":"Common Patterns","text":""},{"location":"llm-reference/#validation-function","title":"Validation Function","text":"<pre><code>[validate-email]\nPURPOSE: Validate that a string is a valid email address\nINPUTS:\n  - email: string\nGUARDS:\n  - email must not be empty -&gt; ValueError(\"Email required\")\n  - email must contain @ symbol -&gt; ValueError(\"Invalid email format\")\nRETURNS: True\n</code></pre>"},{"location":"llm-reference/#factory-function","title":"Factory Function","text":"<pre><code>[create-user]\nPURPOSE: Create a new user with generated ID\nINPUTS:\n  - email: string, required\n  - name: string, required\n  - role: string, optional\nLOGIC:\n  1. Generate unique ID -&gt; user_id\n  2. Set default role if not provided -&gt; final_role\n  3. Create user object -&gt; user\nRETURNS: User(id=user_id, email=email, name=name, role=final_role)\n</code></pre>"},{"location":"llm-reference/#transformation-function","title":"Transformation Function","text":"<pre><code>[format-currency]\nPURPOSE: Format a number as currency string\nINPUTS:\n  - amount: number\n  - currency: string, optional, \"Currency code (default: USD)\"\nLOGIC:\n  1. Round to two decimal places -&gt; rounded\n  2. Format with thousands separator -&gt; formatted\n  3. Prepend currency symbol -&gt; result\nRETURNS: result\n</code></pre>"},{"location":"llm-reference/#aggregation-function","title":"Aggregation Function","text":"<pre><code>[calculate-average]\nPURPOSE: Calculate the average of a list of numbers\nINPUTS:\n  - numbers: list of number\nGUARDS:\n  - numbers must not be empty -&gt; ValueError(\"Cannot average empty list\")\nLOGIC:\n  1. Sum all numbers -&gt; total\n  2. Count the numbers -&gt; count\n  3. Divide total by count -&gt; average\nRETURNS: average\n</code></pre>"},{"location":"llm-reference/#emission-rules","title":"Emission Rules","text":"<p>Understanding how NLS compiles to Python:</p> NLS Python <code>number</code> <code>float</code> <code>string</code> <code>str</code> <code>boolean</code> <code>bool</code> <code>void</code> <code>None</code> return type <code>list of T</code> <code>list[T]</code> <code>dict of K to V</code> <code>dict[K, V]</code> <code>T?</code> <code>Optional[T]</code> <code>@type X</code> <code>@dataclass class X</code> <code>GUARDS: cond -&gt; Error</code> <code>if not cond: raise Error</code> <code>PURPOSE:</code> Docstring <code>-&gt; variable</code> <code>variable = ...</code> <code>\u00d7</code> <code>*</code> <code>\u00f7</code> <code>/</code>"},{"location":"llm-reference/#error-handling","title":"Error Handling","text":""},{"location":"llm-reference/#parse-errors","title":"Parse Errors","text":"Error Cause Fix <code>Missing @module directive</code> No <code>@module</code> at start Add <code>@module name</code> <code>Missing @target directive</code> No <code>@target</code> specified Add <code>@target python</code> <code>Invalid ANLU identifier</code> Wrong naming format Use kebab-case <code>Missing PURPOSE section</code> ANLU has no PURPOSE Add <code>PURPOSE: description</code> <code>Missing RETURNS section</code> ANLU has no RETURNS Add <code>RETURNS: expression</code>"},{"location":"llm-reference/#resolution-errors","title":"Resolution Errors","text":"Error Cause Fix <code>Dependency not found</code> DEPENDS references missing ANLU Add the dependency or fix name <code>Circular dependency</code> A depends on B depends on A Refactor to remove cycle <p>This reference covers the complete NLS language specification. For working examples, see the Examples page.</p>"},{"location":"parser-performance/","title":"Parser Performance Analysis","text":"<p>This document presents benchmark results comparing the regex and tree-sitter parsers.</p>"},{"location":"parser-performance/#benchmark-results","title":"Benchmark Results","text":"ANLUs Source Size Regex Parser Tree-Sitter TS Overhead 10 2.3 KB 0.52ms 0.76ms 1.5x 50 11.7 KB 1.85ms 2.54ms 1.4x 100 23.4 KB 3.58ms 5.14ms 1.4x 200 47.5 KB 7.18ms 10.81ms 1.5x <p>TS Overhead: How much slower tree-sitter is compared to regex (e.g., 1.5x means 50% slower)</p>"},{"location":"parser-performance/#analysis","title":"Analysis","text":""},{"location":"parser-performance/#regex-parser-advantages","title":"Regex Parser Advantages","text":"<ul> <li>Faster raw parsing: ~1.4-1.5x faster for simple parsing</li> <li>Zero dependencies: No binary libraries required</li> <li>Simpler deployment: Pure Python implementation</li> </ul>"},{"location":"parser-performance/#tree-sitter-advantages","title":"Tree-Sitter Advantages","text":"<ul> <li>Error recovery: Produces partial AST even with syntax errors</li> <li>Incremental parsing: Efficient for IDE integration</li> <li>Precise source locations: Better error messages</li> <li>Standard grammar: Reusable for other tools (syntax highlighting, etc.)</li> </ul>"},{"location":"parser-performance/#recommendations","title":"Recommendations","text":""},{"location":"parser-performance/#when-to-use-regex-parser","title":"When to use Regex Parser","text":"<ul> <li>CI/CD pipelines where speed matters</li> <li>Simple scripts and batch processing</li> <li>Environments where tree-sitter binaries are problematic</li> </ul>"},{"location":"parser-performance/#when-to-use-tree-sitter-parser","title":"When to use Tree-Sitter Parser","text":"<ul> <li>IDE and editor integration</li> <li>Development workflows needing good error messages</li> <li>Interactive tools where error recovery matters</li> </ul>"},{"location":"parser-performance/#running-the-benchmark","title":"Running the Benchmark","text":"<pre><code>python stress-test/benchmark_parsers.py\n</code></pre>"},{"location":"parser-performance/#methodology","title":"Methodology","text":"<ul> <li>Each test runs 5 iterations</li> <li>Results show mean, min, max, and standard deviation</li> <li>Source files generated programmatically with varying ANLU counts</li> <li>Tested on Python 3.12, Windows 11</li> </ul>"},{"location":"parser-performance/#future-optimizations","title":"Future Optimizations","text":"<p>Potential improvements: 1. Regex parser: Profile hot paths, consider compilation caching 2. Tree-sitter: Ensure language library is loaded once (already done) 3. Both: Consider parallel parsing for multi-file projects</p>"},{"location":"type-system/","title":"Type System","text":"<p>NLS has a rich type system designed for clarity and safety. Types map directly to Python types with full type hints.</p>"},{"location":"type-system/#primitive-types","title":"Primitive Types","text":""},{"location":"type-system/#number","title":"number","text":"<p>Represents any numeric value (integers and floats).</p> <pre><code>INPUTS:\n  - count: number\n  - price: number\n  - rate: number\n</code></pre> <p>Python mapping: <code>float</code></p> <p>Integer Handling</p> <p>All numbers are floats in NLS. For integer-specific operations, use Python's <code>int()</code> in literal blocks.</p>"},{"location":"type-system/#string","title":"string","text":"<p>Text values of any length.</p> <pre><code>INPUTS:\n  - name: string\n  - email: string\n  - description: string\n</code></pre> <p>Python mapping: <code>str</code></p>"},{"location":"type-system/#boolean","title":"boolean","text":"<p>True or false values.</p> <pre><code>INPUTS:\n  - is_active: boolean\n  - has_permission: boolean\n</code></pre> <p>Python mapping: <code>bool</code></p> <p>Literals: <code>true</code>, <code>false</code>, <code>True</code>, <code>False</code></p>"},{"location":"type-system/#void","title":"void","text":"<p>Indicates a function returns nothing.</p> <pre><code>[log-message]\nPURPOSE: Log a message to the console\nINPUTS:\n  - message: string\nRETURNS: void\n</code></pre> <p>Python mapping: <code>None</code> return type</p>"},{"location":"type-system/#any","title":"any","text":"<p>Dynamic typing escape hatch. Use sparingly.</p> <pre><code>INPUTS:\n  - data: any\n  - callback: any\n</code></pre> <p>Python mapping: <code>Any</code> from <code>typing</code></p>"},{"location":"type-system/#composite-types","title":"Composite Types","text":""},{"location":"type-system/#list-of-t","title":"list of T","text":"<p>Ordered, mutable sequence of elements.</p> <pre><code>INPUTS:\n  - numbers: list of number\n  - users: list of User\n  - items: list of OrderItem\n  - matrix: list of list of number\n</code></pre> <p>Python mapping: <code>list[T]</code></p> <p>Examples:</p> NLS Python <code>list of number</code> <code>list[float]</code> <code>list of string</code> <code>list[str]</code> <code>list of User</code> <code>list[User]</code> <code>list of list of number</code> <code>list[list[float]]</code>"},{"location":"type-system/#dict-of-k-to-v-map-of-k-to-v","title":"dict of K to V / map of K to V","text":"<p>Key-value mapping.</p> <pre><code>INPUTS:\n  - config: dict of string to any\n  - scores: dict of string to number\n  - user_cache: map of string to User\n</code></pre> <p>Python mapping: <code>dict[K, V]</code></p> <p>Examples:</p> NLS Python <code>dict of string to number</code> <code>dict[str, float]</code> <code>dict of string to any</code> <code>dict[str, Any]</code> <code>map of string to User</code> <code>dict[str, User]</code>"},{"location":"type-system/#optional-types","title":"Optional Types","text":"<p>Values that may be absent.</p> <pre><code>INPUTS:\n  - middle_name: string?\n  - config: Config?\n  - deadline: string, optional\n</code></pre> <p>Syntax variants:</p> <ul> <li><code>T?</code> \u2014 Shorthand optional</li> <li><code>optional T</code> \u2014 Explicit optional</li> <li>Field with <code>optional</code> constraint</li> </ul> <p>Python mapping: <code>Optional[T]</code> or <code>T | None</code></p>"},{"location":"type-system/#union-types","title":"Union Types","text":"<p>Values that can be one of several types.</p> <pre><code>INPUTS:\n  - id: string | number\n  - result: Success | Error\n  - value: string | number | boolean\n</code></pre> <p>Python mapping: <code>T | U</code> (Python 3.10+) or <code>Union[T, U]</code></p>"},{"location":"type-system/#custom-type-definitions","title":"Custom Type Definitions","text":""},{"location":"type-system/#basic-type","title":"Basic @type","text":"<p>Define a new record type:</p> <pre><code>@type Point {\n  x: number\n  y: number\n}\n\n@type User {\n  id: string\n  email: string\n  name: string\n}\n</code></pre> <p>Python output:</p> <pre><code>from dataclasses import dataclass\n\n@dataclass\nclass Point:\n    \"\"\"Point type.\"\"\"\n    x: float\n    y: float\n\n@dataclass\nclass User:\n    \"\"\"User type.\"\"\"\n    id: str\n    email: str\n    name: str\n</code></pre>"},{"location":"type-system/#field-constraints","title":"Field Constraints","text":"<p>Add constraints to fields:</p> <pre><code>@type Product {\n  id: string, required\n  name: string, required\n  price: number, min: 0\n  stock: number, min: 0, max: 10000\n  description: string, optional\n  category: string, \"Product category for filtering\"\n}\n</code></pre> <p>Constraint types:</p> Constraint Meaning Example <code>required</code> Field must be provided <code>id: string, required</code> <code>optional</code> Field can be omitted <code>notes: string, optional</code> <code>min: N</code> Minimum numeric value <code>price: number, min: 0</code> <code>max: N</code> Maximum numeric value <code>count: number, max: 100</code> <code>\"description\"</code> Human-readable description <code>email: string, \"User's email\"</code>"},{"location":"type-system/#type-inheritance","title":"Type Inheritance","text":"<p>Use <code>extends</code> for inheritance:</p> <pre><code>@type BaseEntity {\n  id: string, required\n  created_at: string\n  updated_at: string\n}\n\n@type User extends BaseEntity {\n  email: string, required\n  name: string\n  role: string\n}\n\n@type Product extends BaseEntity {\n  name: string, required\n  price: number, min: 0\n  category: string\n}\n</code></pre> <p>Python output:</p> <pre><code>@dataclass\nclass BaseEntity:\n    id: str\n    created_at: str\n    updated_at: str\n\n@dataclass\nclass User(BaseEntity):\n    email: str\n    name: str\n    role: str\n\n@dataclass\nclass Product(BaseEntity):\n    name: str\n    price: float\n    category: str\n</code></pre>"},{"location":"type-system/#nested-types","title":"Nested Types","text":"<p>Types can reference other types:</p> <pre><code>@type Address {\n  street: string\n  city: string\n  country: string\n  postal_code: string\n}\n\n@type Customer {\n  id: string, required\n  name: string, required\n  email: string\n  billing_address: Address\n  shipping_address: Address?\n}\n\n@type Order {\n  id: string, required\n  customer: Customer\n  items: list of OrderItem\n  total: number\n}\n</code></pre>"},{"location":"type-system/#type-invariants","title":"Type Invariants","text":"<p>Invariants are conditions that must always hold for a type.</p>"},{"location":"type-system/#basic-invariant","title":"Basic @invariant","text":"<pre><code>@type Account {\n  balance: number\n  owner: string\n}\n\n@invariant Account {\n  balance &gt;= 0\n  len(owner) &gt; 0\n}\n</code></pre> <p>Python output:</p> <pre><code>@dataclass\nclass Account:\n    balance: float\n    owner: str\n\n    def __post_init__(self):\n        if not (self.balance &gt;= 0):\n            raise ValueError(\"Invariant violated: balance &gt;= 0\")\n        if not (len(self.owner) &gt; 0):\n            raise ValueError(\"Invariant violated: len(owner) &gt; 0\")\n</code></pre>"},{"location":"type-system/#using-self-prefix","title":"Using self Prefix","text":"<p>For clarity, use <code>self.</code> to reference fields:</p> <pre><code>@type Rectangle {\n  width: number\n  height: number\n}\n\n@invariant Rectangle {\n  self.width &gt; 0\n  self.height &gt; 0\n}\n</code></pre>"},{"location":"type-system/#multiple-conditions","title":"Multiple Conditions","text":"<pre><code>@type Order {\n  items: list of OrderItem\n  total: number\n  status: string\n}\n\n@invariant Order {\n  len(items) &gt; 0\n  total &gt;= 0\n  status in [\"pending\", \"confirmed\", \"shipped\", \"delivered\", \"cancelled\"]\n}\n</code></pre>"},{"location":"type-system/#invariants-with-relationships","title":"Invariants with Relationships","text":"<pre><code>@type DateRange {\n  start_date: string\n  end_date: string\n}\n\n@invariant DateRange {\n  start_date &lt;= end_date\n}\n\n@type Discount {\n  percentage: number\n  min_purchase: number\n}\n\n@invariant Discount {\n  percentage &gt;= 0\n  percentage &lt;= 100\n  min_purchase &gt;= 0\n}\n</code></pre>"},{"location":"type-system/#type-conversion-reference","title":"Type Conversion Reference","text":""},{"location":"type-system/#nls-to-python-mapping","title":"NLS to Python Mapping","text":"NLS Type Python Type Import Required <code>number</code> <code>float</code> No <code>string</code> <code>str</code> No <code>boolean</code> <code>bool</code> No <code>void</code> <code>None</code> No <code>any</code> <code>Any</code> <code>from typing import Any</code> <code>list of T</code> <code>list[T]</code> No <code>dict of K to V</code> <code>dict[K, V]</code> No <code>T?</code> <code>Optional[T]</code> <code>from typing import Optional</code> <code>T \\| U</code> <code>T \\| U</code> No (Python 3.10+) <code>@type X</code> <code>@dataclass class X</code> <code>from dataclasses import dataclass</code>"},{"location":"type-system/#type-aliases-future","title":"Type Aliases (Future)","text":"<pre><code># Planned feature\n@type UserId = string\n@type Money = number\n@type UserList = list of User\n</code></pre>"},{"location":"type-system/#best-practices","title":"Best Practices","text":""},{"location":"type-system/#1-use-specific-types","title":"1. Use Specific Types","text":"<pre><code># Good\nINPUTS:\n  - user_id: string\n  - amount: number\n  - items: list of OrderItem\n\n# Avoid\nINPUTS:\n  - user_id: any\n  - amount: any\n  - items: any\n</code></pre>"},{"location":"type-system/#2-add-invariants-for-business-rules","title":"2. Add Invariants for Business Rules","text":"<pre><code>@type Account {\n  balance: number\n}\n\n@invariant Account {\n  balance &gt;= 0  # Business rule: no overdrafts\n}\n</code></pre>"},{"location":"type-system/#3-use-optional-for-nullable-fields","title":"3. Use Optional for Nullable Fields","text":"<pre><code>@type User {\n  id: string, required\n  email: string, required\n  phone: string?           # May not have phone\n  middle_name: string?     # May not have middle name\n}\n</code></pre>"},{"location":"type-system/#4-document-with-field-descriptions","title":"4. Document with Field Descriptions","text":"<pre><code>@type Config {\n  host: string, \"Server hostname or IP\"\n  port: number, min: 1, max: 65535, \"Port number\"\n  timeout: number, \"Connection timeout in seconds\"\n  retries: number, min: 0, \"Number of retry attempts\"\n}\n</code></pre>"},{"location":"type-system/#5-use-inheritance-for-shared-fields","title":"5. Use Inheritance for Shared Fields","text":"<pre><code>@type Timestamped {\n  created_at: string\n  updated_at: string\n}\n\n@type User extends Timestamped {\n  # Gets created_at and updated_at automatically\n  email: string\n}\n</code></pre>"},{"location":"type-system/#related-documentation","title":"Related Documentation","text":"<ul> <li>Language Specification \u2014 Full syntax reference</li> <li>Core Semantics \u2014 Type system semantics</li> <li>Testing Guide \u2014 Testing with invariants</li> <li>LLM Reference \u2014 Complete type examples</li> </ul>"},{"location":"tutorials/","title":"Tutorials","text":"<p>Learn NLS through practical, hands-on examples. Each tutorial builds on concepts from the previous ones.</p>"},{"location":"tutorials/#learning-path","title":"Learning Path","text":"<ul> <li> <p> Your First Module</p> <p>Build a calculator module from scratch. Learn directives, ANLUs, and basic compilation.</p> <p> Start here</p> </li> <li> <p> Working with Types</p> <p>Define custom types, use constraints, and model domain objects.</p> <p> Types tutorial</p> </li> <li> <p> Testing Your Code</p> <p>Write <code>@test</code> blocks, property-based tests, and type invariants.</p> <p> Testing tutorial</p> </li> <li> <p> Real-World Patterns</p> <p>Validation, factories, state machines, and common idioms.</p> <p> Patterns tutorial</p> </li> </ul>"},{"location":"tutorials/#quick-start-checklist","title":"Quick Start Checklist","text":"<p>Before starting the tutorials, make sure you have:</p> <ul> <li>[ ] Python 3.11+ installed</li> <li>[ ] <code>nlsc</code> installed (<code>pip install nlsc</code>)</li> <li>[ ] A code editor (VS Code recommended with NLS extension)</li> </ul>"},{"location":"tutorials/#tutorial-format","title":"Tutorial Format","text":"<p>Each tutorial includes:</p> <ol> <li>Goal \u2014 What you'll build</li> <li>Concepts \u2014 New ideas introduced</li> <li>Step-by-step \u2014 Guided implementation</li> <li>Exercises \u2014 Practice challenges</li> <li>Next steps \u2014 Where to go from here</li> </ol>"},{"location":"tutorials/first-module/","title":"Tutorial: Your First Module","text":"<p>Build a complete calculator module from scratch and learn the fundamentals of NLS.</p>"},{"location":"tutorials/first-module/#what-youll-learn","title":"What You'll Learn","text":"<ul> <li>Creating an NLS project</li> <li>Writing your first ANLU</li> <li>Compiling to Python</li> <li>Running tests</li> <li>Understanding the lockfile</li> </ul>"},{"location":"tutorials/first-module/#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.11+</li> <li><code>nlsc</code> installed (<code>pip install nlsc</code>)</li> </ul>"},{"location":"tutorials/first-module/#step-1-create-a-project","title":"Step 1: Create a Project","text":"<p>Open your terminal and create a new NLS project:</p> <pre><code>nlsc init calculator-project\ncd calculator-project\n</code></pre> <p>This creates:</p> <pre><code>calculator-project/\n\u251c\u2500\u2500 nl.config.yaml    # Project configuration\n\u251c\u2500\u2500 src/              # Your .nl source files\n\u2502   \u2514\u2500\u2500 __init__.py\n\u2514\u2500\u2500 tests/            # Generated tests go here\n    \u2514\u2500\u2500 __init__.py\n</code></pre>"},{"location":"tutorials/first-module/#step-2-write-your-first-anlu","title":"Step 2: Write Your First ANLU","text":"<p>Create <code>src/calculator.nl</code>:</p> <pre><code>@module calculator\n@target python\n\n[add]\nPURPOSE: Add two numbers together\nINPUTS:\n  - a: number\n  - b: number\nRETURNS: a + b\n</code></pre> <p>Let's break this down:</p> Line Meaning <code>@module calculator</code> Names the module (becomes the Python module name) <code>@target python</code> Tells the compiler to generate Python <code>[add]</code> Defines an ANLU named \"add\" <code>PURPOSE:</code> Describes what the function does (becomes the docstring) <code>INPUTS:</code> Lists the parameters with types <code>RETURNS:</code> The return expression"},{"location":"tutorials/first-module/#step-3-compile-to-python","title":"Step 3: Compile to Python","text":"<pre><code>nlsc compile src/calculator.nl\n</code></pre> <p>Output:</p> <pre><code>Compiling src/calculator.nl (parser: regex)...\n  \u2713 Parsed 1 ANLUs\n  \u2713 Resolved dependencies\n  \u2713 Generated calculator.py (12 lines)\n  \u2713 Updated calculator.nl.lock\n\nCompilation complete!\n</code></pre> <p>Look at the generated <code>src/calculator.py</code>:</p> <pre><code>\"\"\"\nGenerated by nlsc\nModule: calculator\n\"\"\"\n\ndef add(a: float, b: float) -&gt; float:\n    \"\"\"Add two numbers together.\"\"\"\n    return a + b\n</code></pre> <p>Notice how NLS automatically: - Created type hints (<code>float</code> for <code>number</code>) - Generated a docstring from PURPOSE - Created the return statement</p>"},{"location":"tutorials/first-module/#step-4-add-more-functions","title":"Step 4: Add More Functions","text":"<p>Expand <code>src/calculator.nl</code>:</p> <pre><code>@module calculator\n@target python\n\n[add]\nPURPOSE: Add two numbers together\nINPUTS:\n  - a: number\n  - b: number\nRETURNS: a + b\n\n[subtract]\nPURPOSE: Subtract second number from first\nINPUTS:\n  - a: number\n  - b: number\nRETURNS: a - b\n\n[multiply]\nPURPOSE: Multiply two numbers\nINPUTS:\n  - a: number\n  - b: number\nRETURNS: a * b\n\n[divide]\nPURPOSE: Divide first number by second safely\nINPUTS:\n  - numerator: number\n  - divisor: number\nGUARDS:\n  - divisor must not be zero -&gt; ValueError(\"Cannot divide by zero\")\nRETURNS: numerator / divisor\n</code></pre> <p>The <code>[divide]</code> function introduces GUARDS \u2014 preconditions that are checked before the function runs.</p> <p>Recompile:</p> <pre><code>nlsc compile src/calculator.nl\n</code></pre>"},{"location":"tutorials/first-module/#step-5-add-tests","title":"Step 5: Add Tests","text":"<p>Add test blocks to your <code>.nl</code> file:</p> <pre><code>@module calculator\n@target python\n\n[add]\nPURPOSE: Add two numbers together\nINPUTS:\n  - a: number\n  - b: number\nRETURNS: a + b\n\n[subtract]\nPURPOSE: Subtract second number from first\nINPUTS:\n  - a: number\n  - b: number\nRETURNS: a - b\n\n[multiply]\nPURPOSE: Multiply two numbers\nINPUTS:\n  - a: number\n  - b: number\nRETURNS: a * b\n\n[divide]\nPURPOSE: Divide first number by second safely\nINPUTS:\n  - numerator: number\n  - divisor: number\nGUARDS:\n  - divisor must not be zero -&gt; ValueError(\"Cannot divide by zero\")\nRETURNS: numerator / divisor\n\n@test [add] {\n  add(2, 3) == 5\n  add(-1, 1) == 0\n  add(0, 0) == 0\n}\n\n@test [multiply] {\n  multiply(3, 4) == 12\n  multiply(0, 100) == 0\n  multiply(-2, 3) == -6\n}\n\n@test [divide] {\n  divide(10, 2) == 5.0\n  divide(9, 3) == 3.0\n}\n</code></pre> <p>Run the tests:</p> <pre><code>nlsc test src/calculator.nl\n</code></pre> <p>Output:</p> <pre><code>Running 8 test cases from src/calculator.nl...\n  \u2022 [add]: 3 cases\n  \u2022 [multiply]: 3 cases\n  \u2022 [divide]: 2 cases\n\n\u2713 All 8 tests passed!\n</code></pre>"},{"location":"tutorials/first-module/#step-6-understand-the-lockfile","title":"Step 6: Understand the Lockfile","text":"<p>After compilation, check <code>src/calculator.nl.lock</code>:</p> <pre><code># DO NOT EDIT - Generated by nlsc\nschema_version: 1\ngenerated_at: 2025-01-15T10:30:00Z\ncompiler_version: 0.4.0\nllm_backend: mock\n\nmodules:\n  calculator:\n    source_hash: sha256:a1b2c3...\n    anlus:\n      add:\n        source_hash: sha256:abc123...\n        output_hash: sha256:def456...\n        output_lines: 4\n        generated_code: |\n          def add(a: float, b: float) -&gt; float:\n              \"\"\"Add two numbers together.\"\"\"\n              return a + b\n</code></pre> <p>The lockfile:</p> <ul> <li>Tracks changes \u2014 <code>nlsc diff</code> shows what changed</li> <li>Enables reproducibility \u2014 Same source = same output</li> <li>Caches generated code \u2014 For zero-LLM rebuilds</li> </ul>"},{"location":"tutorials/first-module/#step-7-use-your-module","title":"Step 7: Use Your Module","text":"<p>Create a Python file that uses your calculator:</p> <pre><code># demo.py\nfrom src.calculator import add, subtract, multiply, divide\n\nprint(f\"2 + 3 = {add(2, 3)}\")\nprint(f\"10 - 4 = {subtract(10, 4)}\")\nprint(f\"5 \u00d7 6 = {multiply(5, 6)}\")\nprint(f\"15 \u00f7 3 = {divide(15, 3)}\")\n\n# This will raise ValueError:\ntry:\n    divide(1, 0)\nexcept ValueError as e:\n    print(f\"Error: {e}\")\n</code></pre> <p>Run it:</p> <pre><code>python demo.py\n</code></pre> <p>Output:</p> <pre><code>2 + 3 = 5\n10 - 4 = 6\n5 \u00d7 6 = 30\n15 \u00f7 3 = 5.0\nError: Cannot divide by zero\n</code></pre>"},{"location":"tutorials/first-module/#what-youve-learned","title":"What You've Learned","text":"<ul> <li>[x] Creating NLS projects with <code>nlsc init</code></li> <li>[x] Writing ANLUs with PURPOSE, INPUTS, RETURNS</li> <li>[x] Using GUARDS for validation</li> <li>[x] Writing <code>@test</code> blocks</li> <li>[x] Compiling and testing with <code>nlsc compile</code> and <code>nlsc test</code></li> <li>[x] Understanding lockfiles</li> </ul>"},{"location":"tutorials/first-module/#exercises","title":"Exercises","text":"<ol> <li>Add a <code>power</code> function \u2014 Calculate <code>base</code> raised to <code>exponent</code></li> <li>Add a <code>modulo</code> function \u2014 Return remainder with guard for zero divisor</li> <li>Add a <code>negate</code> function \u2014 Return the negative of a number (single input)</li> <li>Write tests for all new functions</li> </ol> Solution <pre><code>[power]\nPURPOSE: Calculate base raised to exponent\nINPUTS:\n  - base: number\n  - exponent: number\nRETURNS: base ** exponent\n\n[modulo]\nPURPOSE: Return remainder of division\nINPUTS:\n  - dividend: number\n  - divisor: number\nGUARDS:\n  - divisor must not be zero -&gt; ValueError(\"Cannot divide by zero\")\nRETURNS: dividend % divisor\n\n[negate]\nPURPOSE: Return the negative of a number\nINPUTS:\n  - x: number\nRETURNS: -x\n\n@test [power] {\n  power(2, 3) == 8\n  power(10, 0) == 1\n}\n\n@test [modulo] {\n  modulo(10, 3) == 1\n  modulo(15, 5) == 0\n}\n\n@test [negate] {\n  negate(5) == -5\n  negate(-3) == 3\n}\n</code></pre>"},{"location":"tutorials/first-module/#next-steps","title":"Next Steps","text":"<ul> <li>Working with Types \u2014 Define custom types and use constraints</li> <li>CLI Reference \u2014 Learn all <code>nlsc</code> commands</li> <li>Language Specification \u2014 Complete syntax reference</li> </ul>"},{"location":"tutorials/patterns/","title":"Tutorial: Real-World Patterns","text":"<p>Common patterns and idioms for effective NLS development.</p>"},{"location":"tutorials/patterns/#what-youll-learn","title":"What You'll Learn","text":"<ul> <li>Validation patterns</li> <li>Factory patterns</li> <li>State machine patterns</li> <li>Error handling patterns</li> <li>Composition patterns</li> </ul>"},{"location":"tutorials/patterns/#prerequisites","title":"Prerequisites","text":"<ul> <li>Completed previous tutorials</li> <li>Familiarity with NLS syntax</li> </ul>"},{"location":"tutorials/patterns/#pattern-1-validation-functions","title":"Pattern 1: Validation Functions","text":"<p>Validation functions check input and return boolean or raise errors.</p>"},{"location":"tutorials/patterns/#boolean-validator","title":"Boolean Validator","text":"<pre><code>[is-valid-email]\nPURPOSE: Check if a string is a valid email address\nINPUTS:\n  - email: string\nLOGIC:\n  1. Check if email contains @ symbol -&gt; has_at\n  2. Check if email has domain after @ -&gt; has_domain\n  3. Check if email has local part before @ -&gt; has_local\nRETURNS: has_at and has_domain and has_local\n</code></pre>"},{"location":"tutorials/patterns/#raising-validator","title":"Raising Validator","text":"<pre><code>[validate-email]\nPURPOSE: Validate email address or raise error\nINPUTS:\n  - email: string\nGUARDS:\n  - email must not be empty -&gt; ValueError(\"Email required\")\n  - email must contain @ symbol -&gt; ValueError(\"Invalid email: missing @\")\n  - email must have text before @ -&gt; ValueError(\"Invalid email: missing local part\")\n  - email must have text after @ -&gt; ValueError(\"Invalid email: missing domain\")\nRETURNS: True\n</code></pre>"},{"location":"tutorials/patterns/#validation-with-multiple-fields","title":"Validation with Multiple Fields","text":"<pre><code>@type UserInput {\n  email: string\n  password: string\n  age: number\n}\n\n[validate-user-input]\nPURPOSE: Validate all fields of user registration input\nINPUTS:\n  - input: UserInput\nGUARDS:\n  - input.email must be valid email -&gt; ValueError(\"Invalid email\")\n  - input.password must be at least 8 chars -&gt; ValueError(\"Password too short\")\n  - input.age must be at least 13 -&gt; ValueError(\"Must be at least 13 years old\")\n  - input.age must be at most 120 -&gt; ValueError(\"Invalid age\")\nRETURNS: True\nDEPENDS: [is-valid-email]\n</code></pre>"},{"location":"tutorials/patterns/#pattern-2-factory-functions","title":"Pattern 2: Factory Functions","text":"<p>Factory functions create and return new objects.</p>"},{"location":"tutorials/patterns/#simple-factory","title":"Simple Factory","text":"<pre><code>@type User {\n  id: string, required\n  email: string, required\n  name: string\n  created_at: string\n}\n\n[create-user]\nPURPOSE: Create a new user with generated ID and timestamp\nINPUTS:\n  - email: string, required\n  - name: string, required\nGUARDS:\n  - email must be valid -&gt; ValueError(\"Invalid email\")\n  - name must not be empty -&gt; ValueError(\"Name required\")\nLOGIC:\n  1. Generate unique ID -&gt; user_id\n  2. Get current timestamp -&gt; timestamp\nRETURNS: User(id=user_id, email=email, name=name, created_at=timestamp)\n</code></pre>"},{"location":"tutorials/patterns/#factory-with-defaults","title":"Factory with Defaults","text":"<pre><code>@type Config {\n  host: string\n  port: number\n  timeout: number\n  retries: number\n}\n\n[create-config]\nPURPOSE: Create configuration with sensible defaults\nINPUTS:\n  - host: string, optional\n  - port: number, optional\n  - timeout: number, optional\n  - retries: number, optional\nLOGIC:\n  1. Use host or default to \"localhost\" -&gt; final_host\n  2. Use port or default to 8080 -&gt; final_port\n  3. Use timeout or default to 30 -&gt; final_timeout\n  4. Use retries or default to 3 -&gt; final_retries\nRETURNS: Config(host=final_host, port=final_port, timeout=final_timeout, retries=final_retries)\n</code></pre>"},{"location":"tutorials/patterns/#builder-pattern","title":"Builder Pattern","text":"<pre><code>@type QueryBuilder {\n  table: string\n  conditions: list of string\n  order_by: string?\n  limit: number?\n}\n\n[new-query]\nPURPOSE: Create a new query builder for a table\nINPUTS:\n  - table: string\nRETURNS: QueryBuilder(table=table, conditions=[], order_by=None, limit=None)\n\n[query-where]\nPURPOSE: Add a WHERE condition to the query\nINPUTS:\n  - builder: QueryBuilder\n  - condition: string\nRETURNS: QueryBuilder(table=builder.table, conditions=builder.conditions + [condition], order_by=builder.order_by, limit=builder.limit)\n\n[query-order]\nPURPOSE: Set ORDER BY clause\nINPUTS:\n  - builder: QueryBuilder\n  - column: string\nRETURNS: QueryBuilder(table=builder.table, conditions=builder.conditions, order_by=column, limit=builder.limit)\n\n[query-limit]\nPURPOSE: Set LIMIT clause\nINPUTS:\n  - builder: QueryBuilder\n  - count: number\nGUARDS:\n  - count must be positive -&gt; ValueError(\"Limit must be positive\")\nRETURNS: QueryBuilder(table=builder.table, conditions=builder.conditions, order_by=builder.order_by, limit=count)\n</code></pre>"},{"location":"tutorials/patterns/#pattern-3-state-machines","title":"Pattern 3: State Machines","text":"<p>Use LOGIC state markers to model finite state machines.</p>"},{"location":"tutorials/patterns/#order-processing-fsm","title":"Order Processing FSM","text":"<pre><code>@type Order {\n  id: string\n  status: string\n  items: list of OrderItem\n}\n\n[process-order]\nPURPOSE: Process an order through its lifecycle\nINPUTS:\n  - order: Order\nGUARDS:\n  - order.status must be \"pending\" -&gt; ValueError(\"Order must be pending to process\")\nLOGIC:\n  1. [pending] Validate order details -&gt; validated\n  2. [validating] Check inventory availability -&gt; available\n  3. [checking_inventory] IF not available THEN mark as backordered\n  4. [reserving] Reserve inventory items -&gt; reservation\n  5. [processing_payment] Process payment -&gt; payment_result\n  6. [payment_complete] IF payment_result.success THEN create shipment\n  7. [shipping] Generate shipping label -&gt; shipment\n  8. [complete] Mark order as fulfilled -&gt; final_order\nEDGE CASES:\n  - Inventory not available -&gt; return order with status \"backordered\"\n  - Payment failed -&gt; return order with status \"payment_failed\"\nRETURNS: final_order\n</code></pre> <p>Visualize with:</p> <pre><code>nlsc graph src/orders.nl --anlu process-order\n</code></pre>"},{"location":"tutorials/patterns/#authentication-flow","title":"Authentication Flow","text":"<pre><code>[authenticate-user]\nPURPOSE: Authenticate a user through multi-step flow\nINPUTS:\n  - credentials: Credentials\nLOGIC:\n  1. [init] Receive credentials -&gt; creds\n  2. [validating] Validate credential format -&gt; valid_format\n  3. [looking_up] Look up user by username -&gt; user\n  4. [verifying] IF user exists THEN verify password -&gt; password_match\n  5. [checking_2fa] IF 2FA enabled THEN verify 2FA code -&gt; code_valid\n  6. [generating_token] Generate session token -&gt; token\n  7. [complete] Create auth result -&gt; result\nEDGE CASES:\n  - User not found -&gt; return AuthResult(success=False, error=\"User not found\")\n  - Password mismatch -&gt; return AuthResult(success=False, error=\"Invalid password\")\n  - 2FA failed -&gt; return AuthResult(success=False, error=\"2FA verification failed\")\nRETURNS: result\n</code></pre>"},{"location":"tutorials/patterns/#pattern-4-error-handling","title":"Pattern 4: Error Handling","text":""},{"location":"tutorials/patterns/#structured-errors","title":"Structured Errors","text":"<p>Define error types for different failure modes:</p> <pre><code>@type ValidationError {\n  field: string\n  message: string\n  code: string\n}\n\n@type Result {\n  success: boolean\n  data: any?\n  error: ValidationError?\n}\n\n[validate-and-process]\nPURPOSE: Validate input and process or return structured error\nINPUTS:\n  - input: UserInput\nLOGIC:\n  1. Validate email -&gt; email_valid\n  2. IF not email_valid THEN return error result\n  3. Validate password -&gt; password_valid\n  4. IF not password_valid THEN return error result\n  5. Process valid input -&gt; processed_data\nRETURNS: Result(success=True, data=processed_data, error=None)\n</code></pre>"},{"location":"tutorials/patterns/#error-aggregation","title":"Error Aggregation","text":"<pre><code>[validate-all-fields]\nPURPOSE: Validate all fields and collect all errors\nINPUTS:\n  - input: FormInput\nLOGIC:\n  1. Initialize empty error list -&gt; errors\n  2. Validate each field, adding errors to list -&gt; errors\n  3. IF errors is empty THEN return success\nRETURNS: ValidationResult(valid=len(errors) == 0, errors=errors)\n</code></pre>"},{"location":"tutorials/patterns/#pattern-5-transformation-pipelines","title":"Pattern 5: Transformation Pipelines","text":""},{"location":"tutorials/patterns/#map-pattern","title":"Map Pattern","text":"<pre><code>[map-items]\nPURPOSE: Apply transformation to each item in list\nINPUTS:\n  - items: list of any\n  - transform: function\nLOGIC:\n  1. Apply transform to each item -&gt; transformed\nRETURNS: transformed\n</code></pre>"},{"location":"tutorials/patterns/#filter-pattern","title":"Filter Pattern","text":"<pre><code>[filter-items]\nPURPOSE: Keep only items matching predicate\nINPUTS:\n  - items: list of any\n  - predicate: function\nLOGIC:\n  1. Keep items where predicate returns true -&gt; filtered\nRETURNS: filtered\n</code></pre>"},{"location":"tutorials/patterns/#reduce-pattern","title":"Reduce Pattern","text":"<pre><code>[reduce-items]\nPURPOSE: Reduce list to single value\nINPUTS:\n  - items: list of any\n  - reducer: function\n  - initial: any\nLOGIC:\n  1. Start with initial value -&gt; accumulator\n  2. Apply reducer to each item with accumulator -&gt; result\nRETURNS: result\n</code></pre>"},{"location":"tutorials/patterns/#pipeline-composition","title":"Pipeline Composition","text":"<pre><code>[process-orders-pipeline]\nPURPOSE: Process orders through transformation pipeline\nINPUTS:\n  - orders: list of Order\nLOGIC:\n  1. Filter orders to only pending -&gt; pending_orders\n  2. Map orders to calculate totals -&gt; orders_with_totals\n  3. Filter orders above minimum -&gt; valid_orders\n  4. Sort by priority -&gt; sorted_orders\nRETURNS: sorted_orders\nDEPENDS: [filter-items], [map-items]\n</code></pre>"},{"location":"tutorials/patterns/#pattern-6-dependency-injection","title":"Pattern 6: Dependency Injection","text":""},{"location":"tutorials/patterns/#configuration-based-behavior","title":"Configuration-Based Behavior","text":"<pre><code>@type EmailConfig {\n  provider: string\n  api_key: string\n  from_address: string\n}\n\n[send-email]\nPURPOSE: Send email using configured provider\nINPUTS:\n  - config: EmailConfig\n  - to: string\n  - subject: string\n  - body: string\nLOGIC:\n  1. Select provider based on config.provider -&gt; provider\n  2. Build email payload -&gt; payload\n  3. Send through provider -&gt; result\nRETURNS: result\n</code></pre>"},{"location":"tutorials/patterns/#strategy-pattern","title":"Strategy Pattern","text":"<pre><code>@type PricingStrategy {\n  type: string\n  discount_rate: number?\n  minimum_purchase: number?\n}\n\n[calculate-price]\nPURPOSE: Calculate price using selected strategy\nINPUTS:\n  - base_price: number\n  - strategy: PricingStrategy\nLOGIC:\n  1. IF strategy.type is \"flat\" THEN return base_price\n  2. IF strategy.type is \"percentage\" THEN apply percentage discount\n  3. IF strategy.type is \"tiered\" THEN apply tiered pricing\nRETURNS: final_price\n</code></pre>"},{"location":"tutorials/patterns/#pattern-7-batch-operations","title":"Pattern 7: Batch Operations","text":""},{"location":"tutorials/patterns/#batch-processing","title":"Batch Processing","text":"<pre><code>[process-batch]\nPURPOSE: Process multiple items in batch\nINPUTS:\n  - items: list of Item\n  - batch_size: number\nLOGIC:\n  1. Split items into batches of batch_size -&gt; batches\n  2. Process each batch -&gt; results\n  3. Combine batch results -&gt; combined\nRETURNS: combined\n</code></pre>"},{"location":"tutorials/patterns/#batch-with-error-collection","title":"Batch with Error Collection","text":"<pre><code>@type BatchResult {\n  successful: list of Item\n  failed: list of FailedItem\n  total: number\n  success_count: number\n  failure_count: number\n}\n\n[process-batch-with-errors]\nPURPOSE: Process batch and collect successes and failures separately\nINPUTS:\n  - items: list of Item\nLOGIC:\n  1. Initialize success and failure lists -&gt; successes, failures\n  2. For each item, try to process -&gt; result\n  3. IF result.success THEN add to successes ELSE add to failures\n  4. Build batch result -&gt; batch_result\nRETURNS: batch_result\n</code></pre>"},{"location":"tutorials/patterns/#anti-patterns-to-avoid","title":"Anti-Patterns to Avoid","text":""},{"location":"tutorials/patterns/#1-giant-anlus","title":"1. Giant ANLUs","text":"<p>Bad: <pre><code>[do-everything]\nPURPOSE: Handle all user operations\nLOGIC:\n  1. Validate input\n  2. Check permissions\n  3. Process request\n  4. Update database\n  5. Send notifications\n  6. Log activity\n  7. Return result\nRETURNS: result\n</code></pre></p> <p>Good: Split into focused ANLUs with DEPENDS.</p>"},{"location":"tutorials/patterns/#2-vague-purpose","title":"2. Vague PURPOSE","text":"<p>Bad: <pre><code>PURPOSE: Process the thing\n</code></pre></p> <p>Good: <pre><code>PURPOSE: Calculate the total price including tax and shipping for an order\n</code></pre></p>"},{"location":"tutorials/patterns/#3-missing-guards","title":"3. Missing GUARDS","text":"<p>Bad: <pre><code>[divide]\nINPUTS:\n  - a: number\n  - b: number\nRETURNS: a / b\n</code></pre></p> <p>Good: <pre><code>[divide]\nGUARDS:\n  - b must not be zero -&gt; ValueError(\"Cannot divide by zero\")\nRETURNS: a / b\n</code></pre></p>"},{"location":"tutorials/patterns/#4-unclear-variable-names","title":"4. Unclear Variable Names","text":"<p>Bad: <pre><code>LOGIC:\n  1. Do calculation -&gt; x\n  2. More work -&gt; y\n  3. Final step -&gt; z\n</code></pre></p> <p>Good: <pre><code>LOGIC:\n  1. Calculate subtotal -&gt; subtotal\n  2. Apply discount -&gt; discounted_price\n  3. Add tax -&gt; final_price\n</code></pre></p>"},{"location":"tutorials/patterns/#what-youve-learned","title":"What You've Learned","text":"<ul> <li>[x] Validation patterns (boolean, raising, multi-field)</li> <li>[x] Factory patterns (simple, defaults, builder)</li> <li>[x] State machine patterns with LOGIC markers</li> <li>[x] Error handling patterns</li> <li>[x] Transformation pipelines</li> <li>[x] Dependency injection and strategy patterns</li> <li>[x] Batch processing patterns</li> <li>[x] Anti-patterns to avoid</li> </ul>"},{"location":"tutorials/patterns/#next-steps","title":"Next Steps","text":"<ul> <li>Examples Gallery \u2014 Complete working examples</li> <li>CLI Reference \u2014 Visualization commands</li> <li>LLM Reference \u2014 Complete syntax reference</li> </ul>"},{"location":"tutorials/testing-guide/","title":"Tutorial: Testing Your Code","text":"<p>Master NLS's three testing mechanisms: example tests, property tests, and invariants.</p>"},{"location":"tutorials/testing-guide/#what-youll-learn","title":"What You'll Learn","text":"<ul> <li>Writing <code>@test</code> blocks for example-based testing</li> <li>Property-based testing with <code>@property</code> and Hypothesis</li> <li>Type invariants with <code>@invariant</code></li> <li>When to use each testing approach</li> </ul>"},{"location":"tutorials/testing-guide/#prerequisites","title":"Prerequisites","text":"<ul> <li>Completed Working with Types</li> <li>Understanding of types and ANLUs</li> </ul>"},{"location":"tutorials/testing-guide/#the-three-testing-mechanisms","title":"The Three Testing Mechanisms","text":"Mechanism Purpose When to Use <code>@test</code> Example-based tests Specific cases, edge cases, documentation <code>@property</code> Property-based tests Mathematical properties, invariants over random data <code>@invariant</code> Type constraints Data validity that must always hold"},{"location":"tutorials/testing-guide/#part-1-example-tests-with-test","title":"Part 1: Example Tests with @test","text":""},{"location":"tutorials/testing-guide/#basic-syntax","title":"Basic Syntax","text":"<pre><code>@test [function-name] {\n  function_name(input1, input2) == expected_output\n}\n</code></pre>"},{"location":"tutorials/testing-guide/#complete-example","title":"Complete Example","text":"<pre><code>@module math\n@target python\n\n[add]\nPURPOSE: Add two numbers\nINPUTS:\n  - a: number\n  - b: number\nRETURNS: a + b\n\n[abs]\nPURPOSE: Return absolute value\nINPUTS:\n  - x: number\nRETURNS: x if x &gt;= 0 else -x\n\n@test [add] {\n  add(2, 3) == 5\n  add(-1, 1) == 0\n  add(0, 0) == 0\n  add(1.5, 2.5) == 4.0\n  add(-5, -3) == -8\n}\n\n@test [abs] {\n  abs(5) == 5\n  abs(-5) == 5\n  abs(0) == 0\n  abs(-0.5) == 0.5\n}\n</code></pre>"},{"location":"tutorials/testing-guide/#testing-for-exceptions","title":"Testing for Exceptions","text":"<p>For guard failures, test that the function raises the expected error:</p> <pre><code>[divide]\nPURPOSE: Divide two numbers safely\nINPUTS:\n  - a: number\n  - b: number\nGUARDS:\n  - b must not be zero -&gt; ValueError(\"Cannot divide by zero\")\nRETURNS: a / b\n\n@test [divide] {\n  divide(10, 2) == 5.0\n  divide(9, 3) == 3.0\n  divide(-6, 2) == -3.0\n}\n</code></pre> <p>Exception Testing</p> <p>Currently, <code>@test</code> blocks only support equality assertions. For exception testing, use generated pytest files or write additional Python tests.</p>"},{"location":"tutorials/testing-guide/#running-tests","title":"Running Tests","text":"<pre><code>nlsc test src/math.nl\n</code></pre> <p>Output:</p> <pre><code>Running 9 test cases from src/math.nl...\n  \u2022 [add]: 5 cases\n  \u2022 [abs]: 4 cases\n\n\u2713 All 9 tests passed!\n</code></pre> <p>For verbose output:</p> <pre><code>nlsc test src/math.nl -v\n</code></pre>"},{"location":"tutorials/testing-guide/#part-2-property-tests-with-property","title":"Part 2: Property Tests with @property","text":"<p>Property tests verify that properties hold for all valid inputs, not just specific examples. NLS generates Hypothesis tests.</p>"},{"location":"tutorials/testing-guide/#basic-syntax_1","title":"Basic Syntax","text":"<pre><code>@property [function-name] {\n  property_expression\n}\n</code></pre>"},{"location":"tutorials/testing-guide/#mathematical-properties","title":"Mathematical Properties","text":"<pre><code>@module math\n@target python\n\n[add]\nPURPOSE: Add two numbers\nINPUTS:\n  - a: number\n  - b: number\nRETURNS: a + b\n\n[multiply]\nPURPOSE: Multiply two numbers\nINPUTS:\n  - a: number\n  - b: number\nRETURNS: a * b\n\n@property [add] {\n  add(a, b) == add(b, a)           # Commutativity\n  add(a, 0) == a                    # Identity\n  add(add(a, b), c) == add(a, add(b, c))  # Associativity\n}\n\n@property [multiply] {\n  multiply(a, b) == multiply(b, a)  # Commutativity\n  multiply(a, 1) == a               # Identity\n  multiply(a, 0) == 0               # Zero property\n}\n</code></pre>"},{"location":"tutorials/testing-guide/#forall-quantifier","title":"Forall Quantifier","text":"<p>Use <code>forall</code> to explicitly specify variable types:</p> <pre><code>[abs]\nPURPOSE: Return absolute value\nINPUTS:\n  - x: number\nRETURNS: x if x &gt;= 0 else -x\n\n@property [abs] {\n  forall x: number -&gt; abs(x) &gt;= 0        # Non-negativity\n  forall x: number -&gt; abs(-x) == abs(x)  # Symmetry\n  forall x: number -&gt; abs(x * x) == x * x  # Squares are non-negative\n}\n</code></pre>"},{"location":"tutorials/testing-guide/#properties-for-custom-types","title":"Properties for Custom Types","text":"<pre><code>@type Account {\n  balance: number\n  owner: string\n}\n\n[deposit]\nPURPOSE: Add money to account\nINPUTS:\n  - account: Account\n  - amount: number\nGUARDS:\n  - amount &gt; 0 -&gt; ValueError(\"Amount must be positive\")\nRETURNS: Account(balance=account.balance + amount, owner=account.owner)\n\n@property [deposit] {\n  deposit(acc, amt).balance == acc.balance + amt  # Correct addition\n  deposit(acc, amt).balance &gt; acc.balance         # Always increases\n  deposit(acc, amt).owner == acc.owner            # Owner unchanged\n}\n</code></pre>"},{"location":"tutorials/testing-guide/#generated-code","title":"Generated Code","text":"<p>NLS generates Hypothesis tests like:</p> <pre><code>from hypothesis import given, strategies as st\n\n@given(a=st.floats(allow_nan=False, allow_infinity=False),\n       b=st.floats(allow_nan=False, allow_infinity=False))\ndef test_property_add_commutativity(a, b):\n    assert add(a, b) == add(b, a)\n</code></pre>"},{"location":"tutorials/testing-guide/#part-3-type-invariants-with-invariant","title":"Part 3: Type Invariants with @invariant","text":"<p>Invariants are conditions that must always hold for instances of a type. They're enforced at construction time.</p>"},{"location":"tutorials/testing-guide/#basic-syntax_2","title":"Basic Syntax","text":"<pre><code>@invariant TypeName {\n  condition1\n  condition2\n}\n</code></pre>"},{"location":"tutorials/testing-guide/#examples","title":"Examples","text":"<pre><code>@type Account {\n  id: string, required\n  owner: string, required\n  balance: number\n}\n\n@invariant Account {\n  balance &gt;= 0                  # No negative balances\n  len(owner) &gt; 0                # Owner name required\n  len(id) &gt;= 8                  # ID must be at least 8 chars\n}\n</code></pre>"},{"location":"tutorials/testing-guide/#using-self-prefix","title":"Using <code>self</code> Prefix","text":"<p>For clarity, you can use <code>self.</code> prefix:</p> <pre><code>@type Rectangle {\n  width: number\n  height: number\n}\n\n@invariant Rectangle {\n  self.width &gt; 0\n  self.height &gt; 0\n}\n</code></pre>"},{"location":"tutorials/testing-guide/#generated-validation","title":"Generated Validation","text":"<p>Invariants generate <code>__post_init__</code> validation:</p> <pre><code>@dataclass\nclass Account:\n    id: str\n    owner: str\n    balance: float\n\n    def __post_init__(self):\n        if not (self.balance &gt;= 0):\n            raise ValueError(\"Invariant violated: balance &gt;= 0\")\n        if not (len(self.owner) &gt; 0):\n            raise ValueError(\"Invariant violated: len(owner) &gt; 0\")\n        if not (len(self.id) &gt;= 8):\n            raise ValueError(\"Invariant violated: len(id) &gt;= 8\")\n</code></pre>"},{"location":"tutorials/testing-guide/#invariants-properties-together","title":"Invariants + Properties Together","text":"<p>Invariants and properties work together:</p> <pre><code>@module banking\n@target python\n\n@type Account {\n  balance: number\n  owner: string\n}\n\n@invariant Account {\n  balance &gt;= 0\n}\n\n[deposit]\nPURPOSE: Add money to account\nINPUTS:\n  - account: Account\n  - amount: number\nGUARDS:\n  - amount &gt; 0 -&gt; ValueError(\"Amount must be positive\")\nRETURNS: Account(balance=account.balance + amount, owner=account.owner)\n\n[withdraw]\nPURPOSE: Remove money from account\nINPUTS:\n  - account: Account\n  - amount: number\nGUARDS:\n  - amount &gt; 0 -&gt; ValueError(\"Amount must be positive\")\n  - amount &lt;= account.balance -&gt; ValueError(\"Insufficient funds\")\nRETURNS: Account(balance=account.balance - amount, owner=account.owner)\n\n@property [deposit] {\n  deposit(acc, amt).balance &gt;= 0  # Invariant preserved\n}\n\n@property [withdraw] {\n  withdraw(acc, amt).balance &gt;= 0  # Invariant preserved\n}\n</code></pre> <p>The properties prove that the invariant is maintained by operations.</p>"},{"location":"tutorials/testing-guide/#when-to-use-each-mechanism","title":"When to Use Each Mechanism","text":"Scenario Use Document expected behavior <code>@test</code> Test edge cases <code>@test</code> Verify mathematical properties <code>@property</code> Test with random inputs <code>@property</code> Ensure data validity <code>@invariant</code> Prevent invalid object creation <code>@invariant</code> Prove operations preserve validity <code>@property</code> + <code>@invariant</code>"},{"location":"tutorials/testing-guide/#decision-tree","title":"Decision Tree","text":"<pre><code>Is it about a specific example?\n  \u2514\u2500\u2500 Yes \u2192 @test\n  \u2514\u2500\u2500 No \u2192 Is it about a type's validity?\n            \u2514\u2500\u2500 Yes \u2192 @invariant\n            \u2514\u2500\u2500 No \u2192 @property\n</code></pre>"},{"location":"tutorials/testing-guide/#complete-example-validated-stack","title":"Complete Example: Validated Stack","text":"<pre><code>@module stack\n@version 1.0.0\n@target python\n\n@type Stack {\n  items: list of any\n  max_size: number\n}\n\n@invariant Stack {\n  len(items) &lt;= max_size\n  max_size &gt; 0\n}\n\n[create-stack]\nPURPOSE: Create a new empty stack with max size\nINPUTS:\n  - max_size: number\nGUARDS:\n  - max_size must be positive -&gt; ValueError(\"Max size must be positive\")\nRETURNS: Stack(items=[], max_size=max_size)\n\n[push]\nPURPOSE: Add item to top of stack\nINPUTS:\n  - stack: Stack\n  - item: any\nGUARDS:\n  - stack must not be full -&gt; ValueError(\"Stack overflow\")\nRETURNS: Stack(items=stack.items + [item], max_size=stack.max_size)\n\n[pop]\nPURPOSE: Remove and return top item from stack\nINPUTS:\n  - stack: Stack\nGUARDS:\n  - stack must not be empty -&gt; ValueError(\"Stack underflow\")\nLOGIC:\n  1. Get the last item -&gt; top_item\n  2. Remove last item from list -&gt; remaining_items\nRETURNS: (top_item, Stack(items=remaining_items, max_size=stack.max_size))\n\n[peek]\nPURPOSE: Return top item without removing\nINPUTS:\n  - stack: Stack\nGUARDS:\n  - stack must not be empty -&gt; ValueError(\"Stack is empty\")\nRETURNS: stack.items[-1]\n\n[is-empty]\nPURPOSE: Check if stack is empty\nINPUTS:\n  - stack: Stack\nRETURNS: len(stack.items) == 0\n\n[is-full]\nPURPOSE: Check if stack is full\nINPUTS:\n  - stack: Stack\nRETURNS: len(stack.items) &gt;= stack.max_size\n\n# Example-based tests\n@test [is-empty] {\n  is_empty(Stack(items=[], max_size=10)) == True\n  is_empty(Stack(items=[1], max_size=10)) == False\n}\n\n@test [is-full] {\n  is_full(Stack(items=[1, 2, 3], max_size=3)) == True\n  is_full(Stack(items=[1, 2], max_size=3)) == False\n}\n\n# Property-based tests\n@property [push] {\n  not is_empty(push(stack, item))  # Push makes non-empty\n}\n\n@property [pop] {\n  # Pop then push restores (for non-empty stack)\n  push(pop(stack)[1], pop(stack)[0]) == stack\n}\n</code></pre>"},{"location":"tutorials/testing-guide/#what-youve-learned","title":"What You've Learned","text":"<ul> <li>[x] Writing example tests with <code>@test</code></li> <li>[x] Property-based testing with <code>@property</code></li> <li>[x] Using <code>forall</code> quantifiers</li> <li>[x] Type invariants with <code>@invariant</code></li> <li>[x] When to use each testing mechanism</li> <li>[x] Combining all three for comprehensive testing</li> </ul>"},{"location":"tutorials/testing-guide/#exercises","title":"Exercises","text":"<ol> <li>Add tests for a <code>min</code> function that finds the minimum of a list</li> <li>Add a property that <code>min(list)</code> is always in the list</li> <li>Create a <code>NonEmptyList</code> type with an invariant that length &gt; 0</li> <li>Write a <code>head</code> function that returns the first element (no guards needed with invariant!)</li> </ol> Solution <pre><code>@type NonEmptyList {\n  items: list of any\n}\n\n@invariant NonEmptyList {\n  len(items) &gt; 0\n}\n\n[min-value]\nPURPOSE: Find minimum value in a list\nINPUTS:\n  - numbers: list of number\nGUARDS:\n  - numbers must not be empty -&gt; ValueError(\"Cannot find min of empty list\")\nRETURNS: min(numbers)\n\n[head]\nPURPOSE: Get first element of non-empty list\nINPUTS:\n  - nel: NonEmptyList\nRETURNS: nel.items[0]\n\n@test [min-value] {\n  min_value([3, 1, 4, 1, 5]) == 1\n  min_value([42]) == 42\n  min_value([-5, 0, 5]) == -5\n}\n\n@property [min-value] {\n  forall nums: list of number -&gt; min_value(nums) in nums\n  forall nums: list of number -&gt; all(x &gt;= min_value(nums) for x in nums)\n}\n\n@test [head] {\n  head(NonEmptyList(items=[1, 2, 3])) == 1\n  head(NonEmptyList(items=[\"a\"])) == \"a\"\n}\n</code></pre>"},{"location":"tutorials/testing-guide/#next-steps","title":"Next Steps","text":"<ul> <li>Patterns \u2014 Real-world patterns and idioms</li> <li>Core Semantics \u2014 How tests map to Python</li> <li>CLI Reference \u2014 Test runner options</li> </ul>"},{"location":"tutorials/working-with-types/","title":"Tutorial: Working with Types","text":"<p>Learn to define custom types, use constraints, and model real-world domain objects.</p>"},{"location":"tutorials/working-with-types/#what-youll-learn","title":"What You'll Learn","text":"<ul> <li>Defining types with <code>@type</code></li> <li>Field constraints (required, optional, min, max)</li> <li>Type inheritance with <code>extends</code></li> <li>Using types in ANLUs</li> <li>Type invariants with <code>@invariant</code></li> </ul>"},{"location":"tutorials/working-with-types/#prerequisites","title":"Prerequisites","text":"<ul> <li>Completed Your First Module</li> <li>Understanding of basic NLS syntax</li> </ul>"},{"location":"tutorials/working-with-types/#step-1-define-a-simple-type","title":"Step 1: Define a Simple Type","text":"<p>Let's model a simple e-commerce system. Create <code>src/shop.nl</code>:</p> <pre><code>@module shop\n@target python\n\n@type Product {\n  id: string\n  name: string\n  price: number\n}\n</code></pre> <p>This generates a Python dataclass:</p> <pre><code>from dataclasses import dataclass\n\n@dataclass\nclass Product:\n    \"\"\"Product type.\"\"\"\n    id: str\n    name: str\n    price: float\n</code></pre>"},{"location":"tutorials/working-with-types/#step-2-add-field-constraints","title":"Step 2: Add Field Constraints","text":"<p>Make fields required or optional, and add descriptions:</p> <pre><code>@type Product {\n  id: string, required\n  name: string, required\n  price: number, min: 0\n  description: string, optional\n  stock: number, optional, \"Number of items in inventory\"\n}\n</code></pre> <p>Constraint types:</p> Constraint Meaning <code>required</code> Field must be provided <code>optional</code> Field can be omitted (default) <code>min: N</code> Numeric minimum value <code>max: N</code> Numeric maximum value <code>\"description\"</code> Human-readable description"},{"location":"tutorials/working-with-types/#step-3-use-composite-types","title":"Step 3: Use Composite Types","text":"<p>Create types that reference other types:</p> <pre><code>@module shop\n@target python\n\n@type Product {\n  id: string, required\n  name: string, required\n  price: number, min: 0\n}\n\n@type OrderItem {\n  product: Product, required\n  quantity: number, min: 1\n}\n\n@type Order {\n  id: string, required\n  customer_id: string, required\n  items: list of OrderItem, required\n  total: number\n  status: string\n}\n</code></pre> <p>The <code>items: list of OrderItem</code> field shows how to compose types.</p>"},{"location":"tutorials/working-with-types/#step-4-type-inheritance","title":"Step 4: Type Inheritance","text":"<p>Use <code>extends</code> to create specialized types:</p> <pre><code>@type BaseItem {\n  id: string, required\n  created_at: string\n}\n\n@type Product extends BaseItem {\n  name: string, required\n  price: number, min: 0\n  category: string\n}\n\n@type DigitalProduct extends Product {\n  download_url: string, required\n  file_size: number\n}\n</code></pre> <p>The generated Python uses inheritance:</p> <pre><code>@dataclass\nclass BaseItem:\n    id: str\n    created_at: str\n\n@dataclass\nclass Product(BaseItem):\n    name: str\n    price: float\n    category: str\n\n@dataclass\nclass DigitalProduct(Product):\n    download_url: str\n    file_size: float\n</code></pre>"},{"location":"tutorials/working-with-types/#step-5-use-types-in-anlus","title":"Step 5: Use Types in ANLUs","text":"<p>Now use your types in function specifications:</p> <pre><code>@module shop\n@target python\n\n@type Product {\n  id: string, required\n  name: string, required\n  price: number, min: 0\n}\n\n@type OrderItem {\n  product: Product, required\n  quantity: number, min: 1\n}\n\n@type Order {\n  id: string, required\n  items: list of OrderItem, required\n  total: number\n}\n\n[calculate-item-total]\nPURPOSE: Calculate the total price for an order item\nINPUTS:\n  - item: OrderItem\nRETURNS: item.product.price * item.quantity\n\n[calculate-order-total]\nPURPOSE: Calculate the total for an entire order\nINPUTS:\n  - order: Order\nLOGIC:\n  1. Sum the total of each item -&gt; total\nRETURNS: total\nDEPENDS: [calculate-item-total]\n\n[create-order]\nPURPOSE: Create a new order from a list of items\nINPUTS:\n  - order_id: string, required\n  - items: list of OrderItem, required\nGUARDS:\n  - items must not be empty -&gt; ValueError(\"Order must have at least one item\")\nLOGIC:\n  1. Calculate total for all items -&gt; total\nRETURNS: Order(id=order_id, items=items, total=total)\nDEPENDS: [calculate-order-total]\n</code></pre>"},{"location":"tutorials/working-with-types/#step-6-type-invariants","title":"Step 6: Type Invariants","text":"<p>Use <code>@invariant</code> to enforce rules that must always be true:</p> <pre><code>@type Account {\n  id: string, required\n  owner: string, required\n  balance: number\n}\n\n@invariant Account {\n  balance &gt;= 0\n  len(owner) &gt; 0\n}\n</code></pre> <p>This generates validation in <code>__post_init__</code>:</p> <pre><code>@dataclass\nclass Account:\n    id: str\n    owner: str\n    balance: float\n\n    def __post_init__(self):\n        if not (self.balance &gt;= 0):\n            raise ValueError(\"Invariant violated: balance &gt;= 0\")\n        if not (len(self.owner) &gt; 0):\n            raise ValueError(\"Invariant violated: len(owner) &gt; 0\")\n</code></pre> <p>Now invalid accounts can never be created:</p> <pre><code># This works:\naccount = Account(id=\"1\", owner=\"Alice\", balance=100)\n\n# This raises ValueError:\naccount = Account(id=\"2\", owner=\"Bob\", balance=-50)\n# ValueError: Invariant violated: balance &gt;= 0\n</code></pre>"},{"location":"tutorials/working-with-types/#step-7-complete-banking-example","title":"Step 7: Complete Banking Example","text":"<p>Here's a full example combining everything:</p> <pre><code>@module banking\n@version 1.0.0\n@target python\n\n@type Account {\n  id: string, required\n  owner: string, required\n  balance: number\n}\n\n@invariant Account {\n  balance &gt;= 0\n  len(owner) &gt; 0\n}\n\n[create-account]\nPURPOSE: Create a new account with initial balance\nINPUTS:\n  - account_id: string, required\n  - owner_name: string, required\n  - initial_balance: number, optional\nGUARDS:\n  - owner_name must not be empty -&gt; ValueError(\"Owner name required\")\n  - initial_balance must be non-negative if provided -&gt; ValueError(\"Initial balance cannot be negative\")\nLOGIC:\n  1. Set balance to initial_balance or 0 -&gt; balance\nRETURNS: Account(id=account_id, owner=owner_name, balance=balance)\n\n[deposit]\nPURPOSE: Add money to an account\nINPUTS:\n  - account: Account\n  - amount: number\nGUARDS:\n  - amount must be positive -&gt; ValueError(\"Deposit amount must be positive\")\nRETURNS: Account(id=account.id, owner=account.owner, balance=account.balance + amount)\n\n[withdraw]\nPURPOSE: Remove money from an account\nINPUTS:\n  - account: Account\n  - amount: number\nGUARDS:\n  - amount must be positive -&gt; ValueError(\"Withdrawal amount must be positive\")\n  - amount must not exceed balance -&gt; ValueError(\"Insufficient funds\")\nRETURNS: Account(id=account.id, owner=account.owner, balance=account.balance - amount)\n\n[transfer]\nPURPOSE: Transfer money between accounts\nINPUTS:\n  - from_account: Account\n  - to_account: Account\n  - amount: number\nGUARDS:\n  - amount must be positive -&gt; ValueError(\"Transfer amount must be positive\")\n  - amount must not exceed from_account balance -&gt; ValueError(\"Insufficient funds\")\nLOGIC:\n  1. Withdraw amount from source -&gt; updated_from\n  2. Deposit amount to destination -&gt; updated_to\nRETURNS: (updated_from, updated_to)\nDEPENDS: [withdraw], [deposit]\n\n@test [deposit] {\n  deposit(Account(id=\"1\", owner=\"Alice\", balance=100), 50).balance == 150\n}\n\n@test [withdraw] {\n  withdraw(Account(id=\"1\", owner=\"Alice\", balance=100), 30).balance == 70\n}\n\n@property [deposit] {\n  deposit(acc, amt).balance == acc.balance + amt\n  deposit(acc, amt).balance &gt; acc.balance\n}\n\n@property [withdraw] {\n  withdraw(acc, amt).balance == acc.balance - amt\n  withdraw(acc, amt).balance &lt; acc.balance\n}\n</code></pre>"},{"location":"tutorials/working-with-types/#type-system-reference","title":"Type System Reference","text":""},{"location":"tutorials/working-with-types/#primitive-types","title":"Primitive Types","text":"NLS Type Python Type Description <code>number</code> <code>float</code> Any numeric value <code>string</code> <code>str</code> Text <code>boolean</code> <code>bool</code> True/false <code>any</code> <code>Any</code> Dynamic typing"},{"location":"tutorials/working-with-types/#composite-types","title":"Composite Types","text":"NLS Syntax Python Type Example <code>list of T</code> <code>list[T]</code> <code>list of Product</code> <code>dict of K to V</code> <code>dict[K, V]</code> <code>dict of string to number</code> <code>T?</code> <code>Optional[T]</code> <code>User?</code> <code>T \\| U</code> <code>T \\| U</code> <code>Success \\| Error</code>"},{"location":"tutorials/working-with-types/#what-youve-learned","title":"What You've Learned","text":"<ul> <li>[x] Defining types with <code>@type</code></li> <li>[x] Using field constraints</li> <li>[x] Type inheritance with <code>extends</code></li> <li>[x] Composite types (<code>list of</code>, <code>dict of</code>)</li> <li>[x] Type invariants with <code>@invariant</code></li> <li>[x] Using types in ANLU inputs and returns</li> </ul>"},{"location":"tutorials/working-with-types/#exercises","title":"Exercises","text":"<ol> <li>Create a <code>Customer</code> type with id, name, email, and VIP status</li> <li>Add an invariant that email must contain \"@\"</li> <li>Create a <code>calculate-discount</code> ANLU that returns 10% off for VIP customers</li> <li>Write tests for the discount function</li> </ol> Solution <pre><code>@type Customer {\n  id: string, required\n  name: string, required\n  email: string, required\n  is_vip: boolean\n}\n\n@invariant Customer {\n  \"@\" in email\n  len(name) &gt; 0\n}\n\n[calculate-discount]\nPURPOSE: Calculate discount percentage for a customer\nINPUTS:\n  - customer: Customer\n  - base_price: number\nLOGIC:\n  1. IF customer.is_vip THEN apply 10% discount -&gt; discount_rate\n  2. Calculate discounted price -&gt; final_price\nRETURNS: base_price * (1 - discount_rate) if customer.is_vip else base_price\n\n@test [calculate-discount] {\n  calculate_discount(Customer(id=\"1\", name=\"Alice\", email=\"a@b.c\", is_vip=True), 100) == 90\n  calculate_discount(Customer(id=\"2\", name=\"Bob\", email=\"b@c.d\", is_vip=False), 100) == 100\n}\n</code></pre>"},{"location":"tutorials/working-with-types/#next-steps","title":"Next Steps","text":"<ul> <li>Testing Guide \u2014 Property-based testing and invariants</li> <li>Patterns \u2014 Common real-world patterns</li> <li>Language Specification \u2014 Complete type system reference</li> </ul>"}]}